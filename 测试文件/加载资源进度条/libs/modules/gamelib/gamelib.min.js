var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},__awaiter=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(r){i=[6,r],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},app;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.DT_VOID=0,e.DT_SMALL=1,e.DT_USMALL=2,e.DT_SHORT=3,e.DT_USHORT=4,e.DT_INT=5,e.DT_UINT=6,e.DT_FLOAT=7,e.endian=egret.Endian.LITTLE_ENDIAN,e}return __extends(i,t),i.prototype.readString=function(){var e=this.readUTF();return this.position+=1,e},i.prototype.readNumber=function(){var t=new e.uint64(this),i=t.toString();return+i},i.prototype.writeNumber=function(t){t||(t=0);var i=e.uint64.stringToUint64(t.toString());this.writeInt64(i)},i.prototype.writeInt64=function(e){this.writeUnsignedInt(e._lowUint),this.writeUnsignedInt(e._highUint)},i.prototype.writeString=function(e){this.writeUTF(e),this.writeByte(0)},i.prototype.writeCmd=function(e,t){this.writeByte(e),this.writeByte(t)},i.prototype.readInts=function(e){for(var t=[],i=0;e>i;i++)t.push(this.readInt());return t},i.prototype.writeInts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,r=e;i<r.length;i++){var n=r[i];this.writeInt(n)}},i.prototype.readNumeric=function(e){switch(e){case this.DT_SMALL:return this.readByte();case this.DT_USMALL:return this.readUnsignedByte();case this.DT_SHORT:return this.readShort();case this.DT_USHORT:return this.readUnsignedShort();case this.DT_INT:return this.readInt();case this.DT_UINT:return this.readUnsignedInt();case this.DT_FLOAT:return this.readFloat();default:return 0}},i}(egret.ByteArray);e.GameByteArray=t,__reflect(t.prototype,"app.GameByteArray")}(app||(app={}));var app;!function(e){var t=function(){function t(){this._cache={},this._loadingCache=new Array,e.TimerManager.ins().doTimer(6e4,0,this.dealSoundTimer,this)}return t.prototype.dealSoundTimer=function(){for(var t=egret.getTimer(),i=Object.keys(this._cache),r=0,n=i.length;n>r;r++){var o=i[r];this.checkCanClear(o)&&t-this._cache[o]>=e.SoundManager.CLEAR_TIME&&(delete this._cache[o],RES.destroyRes(o))}},t.prototype.getSound=function(e){var t=RES.getRes(e);if(t)this._cache[e]&&(this._cache[e]=egret.getTimer());else{if(-1!=this._loadingCache.indexOf(e))return null;this._loadingCache.push(e),RES.getResAsync(e,this.onResourceLoadComplete,this)}return t},t.prototype.onResourceLoadComplete=function(e,t){var i=this._loadingCache.indexOf(t);-1!=i&&(this._loadingCache.splice(i,1),this._cache[t]=egret.getTimer(),this.loadedPlay(t))},t.prototype.loadedPlay=function(e){},t.prototype.checkCanClear=function(e){return!0},t}();e.BaseSound=t,__reflect(t.prototype,"app.BaseSound")}(app||(app={}));var app;!function(e){var t=function(){function e(){this._objs=new Array}return e.prototype.pushObj=function(e){this._objs.push(e)},e.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},e.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},e.pop=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._content[t]||(e._content[t]=[]);var n=e._content[t];if(n.length){var o=n.pop();return o.init&&o.init(),o}var a=egret.getDefinitionByName(t),s=i.length,l=void 0;return 0==s?l=new a:1==s?l=new a(i[0]):2==s?l=new a(i[0],i[1]):3==s?l=new a(i[0],i[1],i[2]):4==s?l=new a(i[0],i[1],i[2],i[3]):5==s&&(l=new a(i[0],i[1],i[2],i[3],i[4])),l.ObjectPoolKey=t,l},e.popWithExtraKey=function(t,i){e._content[t]||(e._content[t]=[]);var r,n=e._content[t];if(n.length)for(var o=0;o<n.length;o++)if(n[o].extraKey==i){r=n[o],n.splice(o,1);break}if(!r){var a=egret.getDefinitionByName(t);r=new a(i),r.extraKey=i,r.ObjectPoolKey=t}return r},e.push=function(t){if(null==t)return!1;var i=t.ObjectPoolKey;return!e._content[i]||e._content[i].indexOf(t)>-1?!1:(t.clear&&t.clear(),e._content[i].push(t),!0)},e.clear=function(){e._content={}},e.clearClass=function(t,i){void 0===i&&(i=null);for(var r=e._content[t];r&&r.length;){var n=r.pop();i&&n[i](),n=null}e._content[t]=null,delete e._content[t]},e.dealFunc=function(t,i){var r=e._content[t];if(null!=r){var n=0,o=r.length;for(n;o>n;n++)r[n][i]()}},e.wipe=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t]},e._content={},e}();e.ObjectPool=t,__reflect(t.prototype,"app.ObjectPool")}(app||(app={}));var gamelib;!function(e){var t=function(){function e(e,t){this.m_ASMapCells=[],this.m_nMarkTag=0,this.listener=e,this.thisObj=this.thisObj}return e.prototype.initFromMap=function(e){var t=0;this.m_ASMapCells?t=this.m_ASMapCells.length:this.m_ASMapCells=[],this.m_nWidth=e.maxX,this.m_nHeight=e.maxY;var r=this.m_nWidth*this.m_nHeight;r>this.m_ASMapCells.length&&(this.m_ASMapCells.length=r);for(var n=t;r>n;++n)this.m_ASMapCells[n]=new i;var o,a,s,l;for(s=0,o=0;o<this.m_nWidth;++o)for(a=0;a<this.m_nHeight;++a)l=this.m_ASMapCells[s],l.X=o,l.Y=a,l.CanNotMove=e.grids[s],s++},e.prototype.getPatch=function(t,r,n,o){if(t==n&&r==o)return[];if(0>t||t>=this.m_nWidth||0>r||r>=this.m_nHeight)return[];if(0>n||n>=this.m_nWidth||0>o||o>=this.m_nHeight)return[];var a=this.m_ASMapCells[n*this.m_nHeight+o];if(!a||!a.CanNotMove)return[];this.reset(t,r);var s=!1,l=t,h=r,c=this.m_ASMapCells[l*this.m_nHeight+h];c.GCost=0,c.LastX=-1,c.LastY=-1,c.X=l,c.Y=h,c.MarkTag=this.m_nMarkTag,c.HCost=10*(Math.abs(n-t)+Math.abs(o-r));for(var p,g,u,m;;){if(l==n&&h==o){s=!0;break}for(c.State!=i.CSCLOSE&&this.closeCell(c),p=0;8>p;++p)g=l+e.NEIGHBORPOS_X_VALUES[p],u=h+e.NEIGHBORPOS_Y_VALUES[p],0>g||g>=this.m_nWidth||0>u||u>=this.m_nHeight||(m=this.m_ASMapCells[g*this.m_nHeight+u],m.CanNotMove&&(g==n&&u==o||this.listener.call(this.thisObj,{x:g,y:u}))&&(m.MarkTag!=this.m_nMarkTag||m.State==i.CSNONE?(m.MarkTag=this.m_nMarkTag,m.LastX=l,m.LastY=h,m.btDir=p,m.GCost=c.GCost+e.AS_MOVECOST[1&p],m.HCost=10*(Math.abs(n-g)+Math.abs(o-u)),this.openCell(m)):m.State==i.CSOPEN&&m.GCost>c.GCost+e.AS_MOVECOST[1&p]&&(m.LastX=l,m.LastY=h,m.btDir=p,m.GCost=c.GCost+e.AS_MOVECOST[1&p],this.reopenCell(m))));if(c=this.m_LastOpenCell,null==c)break;l=c.X,h=c.Y}if(s){var d=[];for(d.push(c);;)if(c=this.m_ASMapCells[c.LastX*this.m_nHeight+c.LastY],d.push(c),c.LastX<=0&&c.LastY<=0||c.MarkTag!=this.m_nMarkTag)break;return d}return[]},e.prototype.reset=function(e,t){var i=this.m_ASMapCells[e*this.m_nHeight+t];i.LastX=0,i.LastY=0,i.HCost=0,i.GCost=0,i.FValue=0,i.State=0,i.Prev=null,i.Next=null,i.btDir=0,this.m_LastOpenCell=null,this.m_nMarkTag=this.m_nMarkTag+1},e.prototype.closeCell=function(e){e.State==i.CSOPEN&&(e.Prev&&(e.Prev.Next=e.Next),e.Next&&(e.Next.Prev=e.Prev),e==this.m_LastOpenCell&&(this.m_LastOpenCell=e.Prev)),e.State=i.CSCLOSE},e.prototype.openCell=function(e){e.State=i.CSOPEN;var t=e.HCost+e.GCost;e.FValue=t;var r=this.m_LastOpenCell;if(r){for(;r.FValue<t;){if(null==r.Prev)return r.Prev=e,e.Prev=null,void(e.Next=r);r=r.Prev}e.Prev=r,r.Next?(e.Next=r.Next,r.Next.Prev=e,r.Next=e):(e.Next=null,r.Next=e,this.m_LastOpenCell=e)}else this.m_LastOpenCell=e,e.Prev=null,e.Next=null},e.prototype.reopenCell=function(e){var t=e.HCost+e.GCost;e.FValue=t;var i=e.Next;if(i&&i.FValue>t){do i=i.Next;while(i&&i.FValue>t);e.Prev&&(e.Prev.Next=e.Next),e.Next&&(e.Next.Prev=e.Prev),i?(e.Next=i,i.Prev?(e.Prev=i.Prev,i.Prev.Next=e):e.Prev=null,i.Prev=e):(e.Prev=this.m_LastOpenCell,e.Next=null,this.m_LastOpenCell.Next=e,this.m_LastOpenCell=e)}},e.prototype.ishidden=function(e,t){return 0>e||e>=this.m_nWidth||0>t||t>=this.m_nHeight?!1:this.m_ASMapCells[e*this.m_nHeight+t]?3==this.m_ASMapCells[e*this.m_nHeight+t].CanNotMove:!1},e.prototype.isWalkableTile=function(e,t){return 0>e||e>=this.m_nWidth||0>t||t>=this.m_nHeight?!1:this.m_ASMapCells[e*this.m_nHeight+t]?this.m_ASMapCells[e*this.m_nHeight+t].CanNotMove>0:!1},e.RMOVECOST=14,e.DMOVECOST=10,e.AS_MOVECOST=[e.DMOVECOST,e.RMOVECOST],e.NEIGHBORPOS_X_VALUES=[0,1,1,1,0,-1,-1,-1],e.NEIGHBORPOS_Y_VALUES=[-1,-1,0,1,1,1,0,-1],e}();e.AStar=t,__reflect(t.prototype,"gamelib.AStar");var i=function(){function e(){}return e.CSNONE=0,e.CSOPEN=1,e.CSCLOSE=2,e}();e.ASMapCell=i,__reflect(i.prototype,"gamelib.ASMapCell")}(gamelib||(gamelib={}));var gamelib;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"IsHtml5",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsNative",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.RUNTIME2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsMobile",{get:function(){return egret.Capabilities.isMobile||window.gameIsWeb},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsIOS",{get:function(){return"iOS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsIpad",{get:function(){if(e.IsMobile){var t=navigator.userAgent,i=/(?:Android)/.test(t),r=/(?:Firefox)/.test(t),n=/(?:iPad|PlayBook)/.test(t)||i&&!/(?:Mobile)/.test(t)||r&&/(?:Tablet)/.test(t);return n}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsPC",{get:function(){return!egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsQQBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsIEBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsFirefoxBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsChromeBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsSafariBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsOperaBrowser",{get:function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},enumerable:!0,configurable:!0}),e}();e.DeviceUtils=t,__reflect(t.prototype,"gamelib.DeviceUtils")}(gamelib||(gamelib={}));var gamelib;!function(e){var t=function(){function t(){}return t.startUpHeartbeat=function(){var e=function(){t.heartbeatTime=egret.getTimer(),egret.ticker.update()};t.isTimeout>5&&(t.isTimeout=10,e()),t.isTimeout++},t.stopUpHeartbeat=function(){t.isTimeout=0,t.heartbeatTime=egret.getTimer()},t.fixAll=function(){function i(){RES.config.config.fileSystem.profile(),console.log(r);var e=0;for(var t in r){var i=r[t];i instanceof egret.Texture&&(e+=i.$bitmapWidth*i.$bitmapHeight*4)}console.log("gpu size : "+(e/1024).toFixed(3)+"kb")}egret.BitmapData.$removeDisplayObject=function(t,i){if(i){var r=i.hashCode;if(r&&egret.BitmapData._displayList[r]){var n=egret.BitmapData._displayList[r],o=n.indexOf(t);o>=0&&n.splice(o,1),0==n.length&&e.os.RM.disposeResTime(r)}}};var r={};if(e.DeviceUtils.IsMobile||(RES.profile=i,RES.host={state:{},get resourceConfig(){return RES.config},load:function(e,t){var i="string"==typeof t?RES.processor._map[t]:t;return RES.queue.loadResource(e,i)},unload:function(e){return RES.queue.unloadResource(e)},save:function(e,t){RES.host.state[e.root+e.name]=2,delete e.promise,r[e.root+e.name]=t},get:function(e){return r[e.root+e.name]},remove:function(e){delete RES.host.state[e.root+e.name],delete r[e.root+e.name]}}),RES.getAnalyzers=function(){return r},RES.getTreeTexture=function(){var e,t=[];for(var i in r){var n=r[i];if(n instanceof egret.Texture){if(n.bitmapData&&n.bitmapData.hashCode){e=n.bitmapData.hashCode;var o=egret.BitmapData._displayList[e];o&&0!=o.length||t.push(i)}}else if(n instanceof egret.SpriteSheet&&n.$texture&&n.$texture.bitmapData&&n.$texture.bitmapData.hashCode){var o=egret.BitmapData._displayList[e];o&&0!=o.length||t.push(i)}}return t},RES.getTextureData=function(e){var t=r[e];if(t instanceof egret.Texture&&t.bitmapData&&t.bitmapData.hashCode){var i=t.bitmapData.hashCode,n=egret.BitmapData._displayList[i];if(!n||0==n.length)return t}return null},RES.removeTempCache=function(e){delete RES.host.state[e],delete r[e]},!e.DeviceUtils.IsMobile){var n=egret.DisplayObject.prototype.$dispatchPropagationEvent;egret.DisplayObject.prototype.$dispatchPropagationEvent=function(t,i,r){return t.type==egret.FocusEvent.FOCUS_IN?e.os.KeyBoard.isInput=!0:t.type==egret.FocusEvent.FOCUS_OUT&&(e.os.KeyBoard.isInput=!1),n(t,i,r)}}window.heartbeatFunction=function(){t.stopUpHeartbeat(),t.heartbeatTime=egret.getTimer()}},t.resourceRoot="",t.heartbeatTime=0,t.timeoutId=0,t.isTimeout=0,t}();e.FixUtil=t,__reflect(t.prototype,"gamelib.FixUtil")}(gamelib||(gamelib={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n         <e:Skin class="AgeViewSkin" width="912" xmlns:e="http://ns.egret.com/eui" xmlns:app="app.*" xmlns:w="http://ns.egret.com/wing" height="530">\n	<e:Rect top="0" left="0" right="0" bottom="0" alpha="0.3"/>\n	<e:Group horizontalCenter="0" verticalCenter="0" width="910" height="530">\n		<e:Image scaleX="1" scaleY="1" scale9Grid="74,80,634,486" source="com_bg_kuang_5_png" x="0" y="0" anchorOffsetY="0" height="526"/>\n		<e:Image smoothing="false" width="864" source="com_bg_kuang_6_png" scale9Grid="17,19,2,4" x="23" height="438" y="57" anchorOffsetX="0" anchorOffsetY="0"/>\n		<e:Scroller width="862" height="355" x="24" y="70" anchorOffsetX="0" anchorOffsetY="0">\n			<e:Group>\n				<e:Label id="textLab" text="1、本游戏是一款玩法简单的角色扮演类游戏，适用于年满16周岁及以上的用户，建议未成年人在家长的监护下使用游戏产品。 \n2、本游戏基于架空的故事背景和幻想世界观，游戏中的角色均为虚构，不会与现实相混淆。游戏是一款大型多人在线对战ARPG游戏，制作精美、玩法丰富。剧情简单且积极向上，没有基于真实历史和现实事件改编内容。游戏拥有多样的PVE活动副本和紧张刺激的PVP对抗玩法，包含角色养成、跨服竞技等，需要投入一定的时间和精力。游戏中有基于文字的陌生人社交系统，但社交系统的管理遵循相关法律法规。 \n3、本游戏中有用户实名认证系统，认证为未成年人的用户将接受以下管理：\n游戏中部分玩法和道具需要付费。未满12周岁的用户不能付费；12周岁以上未满16周岁的用户，单次充值金额不得超过50元人民币，每月充值金额累计不得超过200元人民币；16周岁以上的未成年用户，单次充值金额不得超过100元人民币，每月充值金额累计不得超过400元人民币。\n未成年人账号，仅可在周五、周六、周日和法定节假日每日20时至21时进行游戏，其他时间均无法进行游戏。\n4、游戏中玩家需要根据实际情况来进行操作，控制角色对游戏事件做出快速反应，有助于锻炼玩家的思维能力、手眼协调能力与快速反应能力。游戏主要玩法为PVE活动和PVP竞技，可以锻炼玩家的沟通能力、团队协作能力和大局观。" size="24" stroke="2" textColor="0xe5ddcf" width="830" lineSpacing="10" y="3" x="16" anchorOffsetX="0" anchorOffsetY="0"/>\n			</e:Group>\n		</e:Scroller>\n		<e:Label id="txt_name" size="24" stroke="2" scaleX="1" scaleY="1" touchEnabled="false" top="17" horizontalCenter="0" textColor="0xE5DDCF" text="适龄提示"/>\n		<e:Button id="btn_close" label="" width="60" scaleX="1.2" scaleY="1.2" x="889" y="-9">\n			<e:skinName>\n			<e:Skin states="up,down,disabled">\n				<e:Image width="100%" height="100%" source="btn_guanbi3" source.down="btn_guanbi4" source.disabled="btn_guanbi4"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n			</e:Skin>\n			</e:skinName>\n		</e:Button>\n		<e:Button id="sureBtn" label="确 定" width="109" height="44" scaleX="1" scaleY="1" horizontalCenter="0.5" bottom="47">\n			<e:skinName>\n			<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="tips_btn" source.down="tips_btn" source.disabled="tips_btn" scaleX.down="0.95" scaleY.down="0.95"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0" size="20" stroke="2" textColor="0xe5ddcf"/>\n			</e:Skin>\n			</e:skinName>\n		</e:Button>\n	</e:Group>\n</e:Skin>\n            ';return t.clazz=EXML.parse(i),t.skinName="AgeViewSkin",t.horizontalCenter=t.verticalCenter=0,t.percentHeight=100,t.percentWidth=100,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.initUI()},t.prototype.initUI=function(){this.textLab.textFlow=(new egret.HtmlTextParser).parser("1、本游戏是一款玩法简单的角色扮演类游戏，适用于年满16周岁及以上的用户，建议未成年人在家长的监护下使用游戏产品。 \n2、本游戏基于架空的故事背景和幻想世界观，游戏中的角色均为虚构，不会与现实相混淆。游戏是一款大型多人在线对战ARPG游戏，制作精美、玩法丰富。剧情简单且积极向上，没有基于真实历史和现实事件改编内容。游戏拥有多样的PVE活动副本和紧张刺激的PVP对抗玩法，包含角色养成、跨服竞技等，需要投入一定的时间和精力。游戏中有基于文字的陌生人社交系统，但社交系统的管理遵循相关法律法规。 \n3、本游戏中有用户实名认证系统，认证为未成年人的用户将接受以下管理：\n游戏中部分玩法和道具需要付费。未满12周岁的用户不能付费；12周岁以上未满16周岁的用户，单次充值金额不得超过50元人民币，每月充值金额累计不得超过200元人民币；16周岁以上的未成年用户，单次充值金额不得超过100元人民币，每月充值金额累计不得超过400元人民币。\n未成年人账号，仅可在周五、周六、周日和法定节假日每日20时至21时进行游戏，其他时间均无法进行游戏。\n4、游戏中玩家需要根据实际情况来进行操作，控制角色对游戏事件做出快速反应，有助于锻炼玩家的思维能力、手眼协调能力与快速反应能力。游戏主要玩法为PVE活动和PVP竞技，可以锻炼玩家的沟通能力、团队协作能力和大局观。"),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.sureBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(e){this.removeView()},t.prototype.removeView=function(){this.btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.sureBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&(this.parent.removeChild(this),Main.ageView=null)},t}(eui.Component);e.AgeWin=t,__reflect(t.prototype,"app.AgeWin")}(app||(app={}));var app;!function(e){var t=function(){function e(){this._gameLogo="",this._gameLoadImg="",this._gameLoginImg="",this._game="",this._isShowGongGao=!1,this._isAutoShowGongGao=!1,this._publicRes="",this._gameVersion="",this._gameAppVersion=""}return Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo},set:function(e){this._userInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},set:function(e){this._loginType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameLogo",{get:function(){return this._gameLogo},set:function(e){this._gameLogo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameLoadImg",{get:function(){return this._gameLoadImg},set:function(e){this._gameLoadImg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameLoginImg",{get:function(){return this._gameLoginImg},set:function(e){this._gameLoginImg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"game",{get:function(){return this._game},set:function(e){this._game=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pf",{get:function(){return this._pf},set:function(e){this._pf=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pfID",{get:function(){return this._pfID},set:function(e){this._pfID=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serviceListdUrl",{get:function(){return this._serviceListdUrl},set:function(e){this._serviceListdUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setServiceListdUrl",{get:function(){return this._setServiceListdUrl},set:function(e){this._setServiceListdUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkUrl",{get:function(){return this._checkUrl},set:function(e){this._checkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payUrl",{get:function(){return this._payUrl},set:function(e){this._payUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderUrl",{get:function(){return this._orderUrl},set:function(e){this._orderUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payNotice",{get:function(){return this._payNotice},set:function(e){this._payNotice=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gongGaoUrl",{get:function(){return this._gongGaoUrl},set:function(e){this._gongGaoUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReport",{get:function(){return this._isReport},set:function(e){this._isReport=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShowGongGao",{get:function(){return this._isShowGongGao},set:function(e){this._isShowGongGao=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAutoShowGongGao",{get:function(){return this._isAutoShowGongGao},set:function(e){this._isAutoShowGongGao=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reportURL",{get:function(){return this._reportURL},set:function(e){this._reportURL=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reportURLPF",{get:function(){return this._reportURLPF},set:function(e){this._reportURLPF=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReportPF",{get:function(){return this._isReportPF},set:function(e){this._isReportPF=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisablePay",{get:function(){return this._isDisablePay},set:function(e){this._isDisablePay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraParame",{get:function(){return this._extraParame},set:function(e){this._extraParame=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"publicRes",{get:function(){return this._publicRes},set:function(e){this._publicRes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameVersion",{get:function(){return this._gameVersion},set:function(e){this._gameVersion=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameAppVersion",{get:function(){return this._gameAppVersion},set:function(e){this._gameAppVersion=e},enumerable:!0,configurable:!0}),e}();e.GameParameter=t,__reflect(t.prototype,"app.GameParameter")}(app||(app={}));var app;!function(e){var t=function(){function t(){this._isAddGameApp=!1,this.isNewRole=!1,this._socketStatus=0,this._lastReceiveTime=0,this.pid=0,this.PACK_HANDLER=[],this._serverId=0,this._originalSrvid=0,this._user="",this._pwd="",this._automaticLink=!0,this._isDoTimer=!0,this.errorCode=["","名称无效，名称中包含非法字符或长度不合法","玩家的状态不是进入游戏状态","数据服务器返回错误","角色名称重复","当前区服注册已经关闭，请前往新区注册！","角色名中含有特殊字符，无法使用"],this.myRoleInfo={},this.selectRolId=0,this.accountId=0,this.countNum=-1,this.createSign=!1,this.newSocket(),this.recvPack=new e.GameByteArray,this._packets=[]}return Object.defineProperty(t.prototype,"isAddGameApp",{get:function(){return this._isAddGameApp},set:function(e){this._isAddGameApp=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"automaticLink",{get:function(){return this._automaticLink},set:function(e){this._automaticLink=e},enumerable:!0,configurable:!0}),t.ins=function(){return t._ins||(t._ins=new t),t._ins},t.prototype.getSocket=function(){return this.socket_},t.prototype.newSocket=function(){this.socket_&&(this.socket_.removeEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.socket_.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket_.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onSocketRead,this),this.socket_.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.connectError,this)),this.socket_=new egret.WebSocket,this.socket_.type=egret.WebSocket.TYPE_BINARY,this.socket_.addEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.socket_.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket_.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onSocketRead,this),this.socket_.addEventListener(egret.IOErrorEvent.IO_ERROR,this.connectError,this)},t.prototype.sendToServer=function(e){this.send(e),this.recycleByte(e)},Object.defineProperty(t.prototype,"isDoTimer",{get:function(){return this._isDoTimer},set:function(e){this._isDoTimer=e},enumerable:!0,configurable:!0}),t.prototype.connectError=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.IsCrossService&&(t.IsCrossService=!1),Main.showTipsPhone&&Main.showTipsPhone("正在连接服务器"),e.ReportDataMgr.ins().reporting(e.ReportDataEnum.LINK_SERVER_FAIL,{},null,!1),this._isDoTimer){var n=e.TimerManager.ins();n.remove(this.reLogin,this),n.doTimer(5e3,1,this.reLogin,this)}},t.prototype.connect=function(e,i){this.updateStatus(t.STATUS_CONNECTING),this._host=e,this._port=i,window.wx||-1!=location.protocol.indexOf("https:")?this.socket_.connectByUrl("wss://"+e+":"+i):this.socket_.connect(e,i)},t.prototype.close=function(){this.updateStatus(t.STATUS_DISCONNECT),this.socket_&&(this.socket_.removeEventListener(egret.Event.CONNECT,this.onSocketConnected,this),this.socket_.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket_.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onSocketRead,this),this.socket_.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.connectError,this)),this.socket_.close()},t.prototype.logoutClose=function(){this.close(),this.initMyRoleInfo(),this.socket_=null,this.newSocket();var e=egret.getDefinitionByName("app.MFRoleMgr");e&&e.ins().initMyRoleInfo()},t.prototype.send=function(e){return this._socketStatus==t.STATUS_COMMUNICATION?(this.sendPack(e),!0):!1},t.prototype.onSocketConnected=function(i){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.LINK_SERVER_SUCCESS,{},null,!1),console.log("Socket connected！ip:"+this._host+" port:"+this._port),e.TimerManager.ins().remove(this.reLogin,this),this.updateStatus(t.STATUS_CHECKING);var r=new e.GameByteArray;r.writeUnsignedInt(t.FIRST_KEY),this.socket_.writeBytes(r),this.socket_.flush(),this.onConnected()},t.prototype.onSocketRead=function(e){if(this._socketStatus<t.STATUS_COMMUNICATION)return void this.sendKeyToServer();var i=this.recvPack;if(this._lastReceiveTime=egret.getTimer(),this._lastReceiveTime-gamelib.FixUtil.heartbeatTime>80&&gamelib.FixUtil.startUpHeartbeat(),this.socket_.readBytes(i,i.length),i.position!=i.length){var r=i.readUnsignedShort();r==this._salt&&(this.processRecvPacket(i),i.clear())}},t.prototype.sendKeyToServer=function(){console.log("接收到服务器发来的密钥");var i=new e.GameByteArray;this.socket_.readBytes(i),i.position=0,this._salt=i.readUnsignedShort(),this.updateStatus(t.STATUS_COMMUNICATION)},t.prototype.onSocketClose=function(i){if(t.IsCrossService&&(t.IsCrossService=!1),e.ReportDataMgr.ins().reporting(e.ReportDataEnum.LINK_SERVER_CLOSE,{},null,!1),Main.showTipsPhone&&Main.showTipsPhone("正在连接服务器"),this.updateStatus(t.STATUS_DISCONNECT),this._automaticLink&&(this.showLoading(),this._isDoTimer)){var r=e.TimerManager.ins();r.remove(this.reLogin,this),r.doTimer(5e3,1,this.reLogin,this)}},t.prototype.reLogin=function(){t.IsCrossService=!1,this._isDoTimer&&(this.updateStatus(t.STATUS_DISCONNECT),this.close(),this.newSocket(),this.login(this._user,this._pwd,this._serverId,this._host,this._port,e.LocationProperty.originalSrvid))},t.prototype.updateStatus=function(e){if(this._socketStatus!=e){var t=this._socketStatus;this._socketStatus=e,this.onFinishCheck(e,t)}},t.prototype.onFinishCheck=function(e,i){e==t.STATUS_COMMUNICATION?t.IsCrossService?this.KfsendCheckAccount(this._kFRoleId,this._KFServerId):this.sendCheckAccount(this._user,this._pwd):e==t.STATUS_DISCONNECT},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this._port},enumerable:!0,configurable:!0}),t.prototype.sendCheckAccount=function(e,t){var i=this.getBytes();i.writeCmd(255,1),i.writeString(e),i.writeString(t),i.writeInt(this._serverId),i.writeInt(this._serverId),this.sendToServer(i)},t.prototype.KfsendCheckAccount=function(e,t){var i=this.getBytes();i.writeCmd(255,9),i.writeUnsignedInt(e),i.writeUnsignedInt(t),this.sendToServer(i)},t.prototype.login=function(e,i,r,n,o,a){void 0===a&&(a=0),this._isDoTimer=!0,this.updateStatus(t.STATUS_DISCONNECT),this._user=e,this._pwd=i,this._serverId=r,this._originalSrvid=a,n.split(":")[1]&&n.split(":")[1].length&&(o=parseInt(n.split(":")[1])),this.socket_.connected?this.sendCheckAccount(e,i):this.connect(n,o)},t.prototype.processRecvPacket=function(e){var t=e.readUnsignedByte(),i=e.readUnsignedByte();this.dispatch(t,i,e)},Object.defineProperty(t.prototype,"openDay",{get:function(){return this._openDay},set:function(e){this._openDay=e},enumerable:!0,configurable:!0}),t.prototype.getMyRoleInfo=function(){var e=[];for(var t in this.myRoleInfo)this.myRoleInfo[t].select=!1,e.push(this.myRoleInfo[t]);return e},t.prototype.setMyRoleInfoLevel=function(t){this.myRoleInfo[e.LocationProperty.roleId]&&(this.myRoleInfo[e.LocationProperty.roleId].level=t)},t.prototype.setMyRoleInfoZsLevel=function(t){this.myRoleInfo[e.LocationProperty.roleId]&&(this.myRoleInfo[e.LocationProperty.roleId].zsLevel=t)},t.prototype.setMyRoleInfoGuildName=function(t){this.myRoleInfo[e.LocationProperty.roleId]&&(this.myRoleInfo[e.LocationProperty.roleId].guildName=t)},t.prototype.initMyRoleInfo=function(){e.ObjectPool.wipe(this.myRoleInfo),this.accountId=0,this.selectRolId=0,this.createSign=!1,this.countNum=-1},t.prototype.setMyRoleInfoName=function(t){this.myRoleInfo[e.LocationProperty.roleId]&&(this.myRoleInfo[e.LocationProperty.roleId].name=t)},t.prototype.dispatch=function(t,i,r){var n=egret.getDefinitionByName("app.DefaultMgr");if(this._isAddGameApp&&n)n.ins().post_Get(t,i);else if(255==t){var o=void 0;switch(i){case 1:var a=r.readByte();return void(this.errorCode[Math.abs(a)]?Main.showTipsPhone&&Main.showTipsPhone(this.errorCode[Math.abs(a)]):17==Math.abs(a)?Main.showTipsPhone&&Main.showTipsPhone("该账号已被禁止登录！"):18==Math.abs(a)?Main.showTipsPhone&&Main.showTipsPhone("当前区服注册已经关闭，请前往新区注册！"):Main.showTipsPhone&&Main.showTipsPhone("未知错误:"+a));case 2:this._openDay=r.readUnsignedInt();var s=r.readByte();this.accountId=r.readInt();var l=r.readByte();if(l){for(var h,c=0;l>c;c++)h=new e.SimplePlayerInfo,h.read(r),this.selectRolId||(this.selectRolId=h.id),this.myRoleInfo[h.id]=h;this.createSign&&(this.createSign=!1,e.ReportDataMgr.ins().reporting(e.ReportDataEnum.CREATE_ROLE_SUCCESS,{},{roleId:h.id,roleName:h.name,level:0,sex:h.sex,job:h.job,guildName:h.guildName,zsLevel:0,serverId:e.LocationProperty.srvid,serverName:e.LocationProperty.srvname},!1),e.ReportDataMgr.ins().reporting(e.ReportDataEnum.UPDATE_LEVEL,{},{roleId:h.id,roleName:h.name,level:1,prelevel:1,sex:h.sex,job:h.job,guildName:h.guildName,zsLevel:0,serverId:e.LocationProperty.srvid,serverName:e.LocationProperty.srvname},!1),10007==Main.gameParameter.pfID&&Main.gameParameter.loginType&&gamelib.DeviceUtils.IsNative&&Main.Native_adJustData({type:2})),gamelib.DeviceUtils.IsMobile?Main.newPhoneLoadingView():window.newLoadingView()}else e.LocationProperty.isForbidRegister?Main.switchServer():s?Main.newCreateView():Main.switchServer();return;case 3:r.readInt();if(o=r.readByte())this.errorCode[Math.abs(o)]?Main.showTipsPhone&&Main.showTipsPhone(this.errorCode[Math.abs(o)]):Main.showTipsPhone&&Main.showTipsPhone("未知错误:"+o);else{var p=this.getBytes();p.writeCmd(255,3),this.sendToServer(p)}return;case 5:o=r.readByte();var g="";if(0==o){r.readByte();g=r.readUTF()}return void(Main.createRoleView&&Main.createRoleView.setName(g))}}if(this.PACK_HANDLER[t]&&this.PACK_HANDLER[t][i]){var u=this.PACK_HANDLER[t][i];u[0].call(u[1],r)}},t.prototype.recycleByte=function(t){t.clear(),e.ObjectPool.push(t)},t.prototype.getBytes=function(){var t=e.ObjectPool.pop("app.GameByteArray");
return t.clear(),t.writeUnsignedShort(this._salt),t.writeUnsignedInt(this.pid++),t},t.prototype.registerSTCFunc=function(e,t,i,r){if(this.PACK_HANDLER[e]){if(this.PACK_HANDLER[e][t])return}else this.PACK_HANDLER[e]=[];this.PACK_HANDLER[e][t]=[i,r]},t.prototype.onClose=function(){this.reLogin()},t.prototype.showLoading=function(){var e=egret.getDefinitionByName("app.LoadingView");e&&e.ins().showLoading()},t.prototype.onConnected=function(){var e=egret.getDefinitionByName("app.LoadingView");e&&e.ins().hideLoading()},t.prototype.sendPack=function(e){if(null==e||0==e.length)throw new egret.error("创建客户端数据包时数据不能为空！");this.socket_.writeBytes(e)},t.prototype.connectServer=function(){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.LINK_SERVER,{},null,!1),this.login(e.LocationProperty.openID,e.LocationProperty.password,e.LocationProperty.srvid,e.LocationProperty.serverIP,e.LocationProperty.serverPort,e.LocationProperty.originalSrvid)},t.prototype.switchConnectServer=function(){e.LocationProperty.Param=e.LocationProperty.newestServer,this._user=e.LocationProperty.openID,this._pwd=e.LocationProperty.password,this._serverId=e.LocationProperty.srvid,this._originalSrvid=e.LocationProperty.originalSrvid;var t=e.LocationProperty.serverIP,i=e.LocationProperty.serverPort;t.split(":")[1]&&t.split(":")[1].length&&(i=parseInt(t.split(":")[1])),this._host=t,this._port=i,this._isDoTimer=!0,this.reLogin();var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(Main.gameParameter.setServiceListdUrl+"?account="+e.LocationProperty.openID+"&srvid="+e.LocationProperty.originalSrvid,egret.HttpMethod.GET),r.send()},t.prototype.s_255_4=function(t,i,r,n,o){void 0===n&&(n=0),void 0===o&&(o=0),this.createSign=!0,e.ReportDataMgr.ins().reporting(e.ReportDataEnum.CLICK_CREATE_ROLE,{},{uid:e.LocationProperty.openID,roleId:0,serverName:e.LocationProperty.srvname},!1);var a=this.getBytes();a.writeCmd(255,4),a.writeString(t),a.writeByte(n),a.writeByte(o),a.writeByte(0),a.writeByte(0),a.writeString(""),a.writeInt(0),this.sendToServer(a)},t.prototype.s_255_6=function(e){var t=this.getBytes();t.writeCmd(255,6),t.writeByte(e),this.sendToServer(t)},t.prototype.s_255_88=function(){console.log("发送心跳.....");var e=this.getBytes();e.writeCmd(255,88),this.sendToServer(e)},t.prototype.heartbeatPak=function(t){e.TimerManager.ins().remove(this.s_255_88,this),t&&e.TimerManager.ins().doTimer(2e3,0,this.s_255_88,this)},t.prototype.logon=function(){if(this._socketStatus==t.STATUS_COMMUNICATION){this._isAddGameApp=!0;var e=this.selectRolId,i=this.accountId,r=egret.getDefinitionByName("app.DefaultMgr");r&&r.ins().s_0_1(i,e),this.heartbeatPak(0)}else this.reLogin()},t.prototype.KFLogin=function(e,i,r,n,o){void 0===o&&(o=0),this.close(),this.newSocket(),t.IsCrossService=!0,this._kFRoleId=e,this._KFServerId=i,this._KFOriginalSrvid=o,r.split(":")[1]&&r.split(":")[1].length&&(n=parseInt(r.split(":")[1])),this.updateStatus(t.STATUS_CONNECTING),window.wx||-1!=location.protocol.indexOf("https:")?this.socket_.connectByUrl("wss://"+r+":"+n):this.socket_.connect(r,n)},t.FIRST_KEY=3390046207,t.IsCrossService=!1,t.STATUS_CONNECTING=1,t.STATUS_CHECKING=2,t.STATUS_COMMUNICATION=3,t.STATUS_DISCONNECT=4,t.CLASSNAME=egret.getQualifiedClassName(e.GameByteArray),t}();e.GameSocket=t,__reflect(t.prototype,"app.GameSocket")}(app||(app={}));var gamelib;!function(e){var t=function(){function t(){if(this.isInput=!1,this.key_ups=new Array,this.key_downs=new Array,!e.DeviceUtils.IsMobile){var t=this;document.addEventListener("keyup",function(i){if(!t.isInput||i.keyCode==e.KeyCode.KC_ENTER)for(var r=0,n=t.key_ups.length;n>r;r++)if(t.key_ups[r]){var o=t.key_ups[r][0],a=t.key_ups[r][1];a?o.call(a,i.keyCode):o(i.keyCode)}}),document.addEventListener("keydown",function(i){if(!t.isInput||i.keyCode==e.KeyCode.KC_ENTER)for(var r=0,n=t.key_downs.length;n>r;r++)if(t.key_downs[r]){var o=t.key_downs[r][0],a=t.key_downs[r][1];a?o.call(a,i.keyCode):o(i.keyCode)}})}}return t.ins=function(){var e=this;return e._instance||(e._instance=new e),e._instance},t.prototype.addKeyUp=function(e,t){this.key_ups.push([e,t])},t.prototype.addKeyDown=function(e,t){this.key_downs.push([e,t])},t.prototype.removeKeyUp=function(e,t){for(var i=0;i<this.key_ups.length;i++)this.key_ups[i]&&this.key_ups[i][0]==e&&this.key_ups[i][1]==t&&(this.key_ups.splice(i,1),i--)},t.prototype.removeKeyDown=function(e,t){for(var i=0;i<this.key_downs.length;i++)this.key_downs[i][0]==e&&this.key_downs[i][1]==t&&(this.key_downs.splice(i,1),i--)},t}();e.KeyboardUtils=t,__reflect(t.prototype,"gamelib.KeyboardUtils")}(gamelib||(gamelib={}));var gamelib;!function(e){var t=function(){function e(){}return e.KC_1=49,e.KC_2=50,e.KC_3=51,e.KC_4=52,e.KC_5=53,e.KC_6=54,e.KC_7=55,e.KC_8=56,e.KC_9=57,e.KC_0=48,e.KC_A=65,e.KC_B=66,e.KC_C=67,e.KC_D=68,e.KC_E=69,e.KC_F=70,e.KC_G=71,e.KC_H=72,e.KC_I=73,e.KC_J=74,e.KC_K=75,e.KC_L=76,e.KC_M=77,e.KC_N=78,e.KC_O=79,e.KC_P=80,e.KC_Q=81,e.KC_R=82,e.KC_S=83,e.KC_T=84,e.KC_U=85,e.KC_V=86,e.KC_W=87,e.KC_X=88,e.KC_Y=89,e.KC_Z=90,e.KC_F1=112,e.KC_F2=113,e.KC_F3=114,e.KC_F4=115,e.KC_F5=116,e.KC_F6=117,e.KC_F7=118,e.KC_F8=119,e.KC_F9=120,e.KC_F10=121,e.KC_F11=122,e.KC_F12=123,e.KC_F13=124,e.KC_F14=125,e.KC_F15=126,e.KC_NUMPAD_0=96,e.KC_NUMPAD_1=97,e.KC_NUMPAD_2=98,e.KC_NUMPAD_3=99,e.KC_NUMPAD_4=100,e.KC_NUMPAD_5=101,e.KC_NUMPAD_6=102,e.KC_NUMPAD_7=103,e.KC_NUMPAD_8=104,e.KC_NUMPAD_9=105,e.KC_NUMPAD_MULTIPLY=106,e.KC_NUMPAD_ADD=107,e.KC_NUMPAD_ENTER=108,e.KC_NUMPAD_SUBTRACT=109,e.KC_NUMPAD_DECIMAL=110,e.KC_NUMPAD_DIVIDE=111,e.KC_BACKSPACE=8,e.KC_TAB=9,e.KC_ENTER=13,e.KC_SHIFT=16,e.KC_Alt=18,e.KC_CONTROL=17,e.KC_ESCAPE=27,e.KC_SPACE=32,e.KC_WINDOWS=91,e.KC_MENU=93,e.KC_CAPS_LOCK=20,e.KC_NUM_LOCK=144,e.KC_SCROLL_LOCK=145,e.KC_PAUSE=19,e.KC_PAGE_UP=33,e.KC_PAGE_DOWN=34,e.KC_END=35,e.KC_HOME=36,e.KC_INSERT=45,e.KC_DELETE=46,e.KC_LEFT=37,e.KC_UP=38,e.KC_RIGHT=39,e.KC_DOWN=40,e.KC_SEMICOLON_COLON=186,e.KC_EQUAL_PLUS=187,e.KC_MINUS_UNDERLINE=189,e.KC_SLASH_QUESTIONMARK=191,e.KC_SPECIALCOMMA_EARTHWORM=192,e.KC_LEFT_BRACKET_BRACE=219,e.KC_BACKSLASH_VERTICALBAR=220,e.KC_RIGHT_BRACKET_BRACE=221,e.KC_QUOTE=222,e.KC_COMMA=188,e.KC_PERIOD=190,e}();e.KeyCode=t,__reflect(t.prototype,"gamelib.KeyCode")}(gamelib||(gamelib={}));var gamelib;!function(e){var t=function(){function t(){}return t.startUp=function(){e.FixUtil.fixAll(),t.RM=e.ResourceManager.ins(),t.KeyBoard=e.KeyboardUtils.ins()},t}();e.os=t,__reflect(t.prototype,"gamelib.os")}(gamelib||(gamelib={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n        <e:Skin class="MainLoginListBtnSkin" xmlns:e="http://ns.egret.com/eui" states="up,down" >\n	<e:Image source="login_yeqian_1" horizontalCenter="0" verticalCenter="0"/>\n	<e:Image source="login_yeqian_2" visible.down="false" horizontalCenter="0" verticalCenter="0"/>\n	<e:Label id="bgText" text="最近登录" size="20" horizontalCenter="0" verticalCenter="-1" stroke="2" textColor="0xe5ddcf"/>\n</e:Skin>\n        ';return EXML.parse(i),t.skinName="MainLoginListBtnSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.dataInfo=this.data,0==this.data.isSelect?this.bgText.textColor=15654861:this.bgText.textColor=16777215,this.bgText.text=this.dataInfo.name},t}(eui.ItemRenderer);e.ListButton=t,__reflect(t.prototype,"app.ListButton")}(app||(app={}));var app;!function(e){var t=function(){function e(){}return e.init=function(){},Object.defineProperty(e,"Param",{set:function(e){e&&(this.urlParam=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"newestServer",{get:function(){return this._newestServer},set:function(e){this._newestServer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"recommendServer",{get:function(){return this._recommendServer},set:function(e){this._recommendServer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resAdd",{get:function(){return this.urlParam.hosts||""},set:function(e){this.urlParam.hosts=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"openID",{get:function(){return this.urlParam.user+""},set:function(e){this.urlParam.user=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"srvid",{get:function(){return parseInt(this.urlParam.srvid)},set:function(e){this.urlParam.srvid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"originalSrvid",{get:function(){return parseInt(this.urlParam.originalSrvid||this.urlParam.srvid)},set:function(e){this.urlParam.originalSrvid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"srvname",{get:function(){return this.urlParam.serverName||this.srvid+""},set:function(e){this.urlParam.serverName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"serverAlias",{get:function(){return this.urlParam.serverAlias||this.srvid+""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"serverIP",{get:function(){return this.urlParam.srvaddr},set:function(e){this.urlParam.srvaddr=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"serverPort",{get:function(){return this.urlParam.srvport||9001},set:function(e){this.urlParam.srvport=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"roleId",{get:function(){return this.urlParam.roleId},set:function(e){this.urlParam.roleId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"password",{get:function(){return this.urlParam.spverify||"e10adc3949ba59abbe56e057f20f883e"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"openKey",{get:function(){return this.urlParam.openkey},enumerable:!0,configurable:!0}),Object.defineProperty(e,"zoneId",{get:function(){return this.urlParam.zoneid},enumerable:!0,configurable:!0}),Object.defineProperty(e,"serverID",{get:function(){return this.urlParam.serverid},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ID",{get:function(){return this.urlParam.ID},enumerable:!0,configurable:!0}),Object.defineProperty(e,"appid",{get:function(){return this.urlParam.appid||""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"app_openid",{get:function(){return this.urlParam.app_openid||""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isSubscribe",{get:function(){return this.urlParam.isSubscribe},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nickName",{get:function(){var e=this.urlParam.nickName||"";try{return e.length?decodeURIComponent(e):e}catch(t){return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"callUrl",{get:function(){var e=this.urlParam.callUrl||"";return e.length?decodeURIComponent(e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"gifi",{get:function(){return this.urlParam.gifi},enumerable:!0,configurable:!0}),Object.defineProperty(e,"roleCount",{get:function(){return parseInt(this.urlParam.roleCount)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isnew",{get:function(){return parseInt(this.urlParam.isnew)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"login_ip",{get:function(){return this.urlParam.login_ip},enumerable:!0,configurable:!0}),Object.defineProperty(e,"is_attention",{get:function(){return this.urlParam.is_attention},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isShowShare",{get:function(){return window.isShowShare},enumerable:!0,configurable:!0}),Object.defineProperty(e,"v",{get:function(){return parseInt(this.urlParam.v)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isYelloVip",{get:function(){return parseInt(this.urlParam.isYelloVip)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isYelloYearVip",{get:function(){return parseInt(this.urlParam.isYelloYearVip)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"yelloVipLevel",{get:function(){return parseInt(this.urlParam.yelloVipLevel)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isYelloHighVip",{get:function(){return parseInt(this.urlParam.isYelloHighVip)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"logurl",{get:function(){return decodeURIComponent(this.urlParam.logurl)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isFirstLoad",{get:function(){return!e.isLocation&&0==e.roleCount},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loadurl",{get:function(){return decodeURIComponent(this.urlParam.loadurl)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pfid",{get:function(){return this.urlParam.pfid||""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pf",{get:function(){return this.urlParam.pf||""},enumerable:!0,configurable:!0}),e.isCanLogin=function(){return null!=this.openID&&null!=this.password&&null!=this.srvid&&null!=this.serverIP&&null!=this.serverPort},Object.defineProperty(e,"isForbidRegister",{get:function(){return+this.urlParam.isForbidRegister},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isLocation",{get:function(){return location.href.indexOf("192.168.201")>=0||location.href.indexOf("127.0.0.1")>=0||location.href.indexOf("localhost")>=0||location.href.indexOf("cq.api.com")>=0||location.href.indexOf("10.10.1")>=0||location.href.indexOf("10.10.4")>=0},enumerable:!0,configurable:!0}),e.setLoadProgress=function(e,t){Main.phoneLoadingView.showLoadProgress(e,t)},e.urlParam={},e}();e.LocationProperty=t,__reflect(t.prototype,"app.LocationProperty")}(app||(app={}));var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),console.log("手机版本:进入主界面"),t.main_instance=this,t.gameParameter=new app.GameParameter,gamelib.DeviceUtils.IsMobile?(window.phoneSwitchAccountSuccess=this.phoneSwitchAccountSuccess.bind(this),window.phoneLogout=this.phoneLogout.bind(this),window.createH5ServerView=this.createH5ServerView.bind(this),gamelib.DeviceUtils.IsHtml5?(t.gameParameter.userInfo={},t.gameParameter.loginType=window.loginType,t.gameParameter.gameLogo=window.gameLogo,t.gameParameter.game=window.game,t.gameParameter.pf=window.pf,t.gameParameter.pfID=window.pfID,t.gameParameter.serviceListdUrl=window.serviceListdUrl,t.gameParameter.setServiceListdUrl=window.setServiceListdUrl,t.gameParameter.isReport=window.isReport,t.gameParameter.isReportPF=window.isReportPF,t.gameParameter.isDisablePay=window.isDisablePay,t.gameParameter.reportURL=window.reportUrl,t.gameParameter.payUrl=window.payUrl,t.gameParameter.reportURLPF=window.reportURLPF,t.gameParameter.orderUrl=window.orderUrl,t.gameParameter.payNotice=window.payNotice,t.gameParameter.gameLoadImg=window.gameLoadImg,t.gameParameter.gameLoginImg=window.gameLoginImg,t.gameParameter.gongGaoUrl=window.gongGaoUrl,t.gameParameter.isShowGongGao=window.isShowGongGao,t.gameParameter.isAutoShowGongGao=window.isAutoShowGongGao,t.gameParameter.userInfo=window.userInfo,t.gameParameter.publicRes=window.publicRes,t.gameParameter.publicRes&&""!=t.gameParameter.publicRes&&(ResDirEnum.RES_DIR=t.gameParameter.publicRes+ResDirEnum.RES_DIR,ResDirEnum.MAP_DIR=t.gameParameter.publicRes+ResDirEnum.MAP_DIR,ResDirEnum.Init())):(this.setExternalInterfaces(),ResDirEnum.RES_DIR=ResDirEnum.RES_DIR_Android,ResDirEnum.MAP_DIR=ResDirEnum.MAP_DIR_Android,ResDirEnum.RES_DIR_BLOOD=ResDirEnum.RES_DIR+"blood/",ResDirEnum.RES_DIR_BODY=ResDirEnum.RES_DIR+"body/",ResDirEnum.RES_DIR_BODY_SUIT=ResDirEnum.RES_DIR+"bodysuit/",ResDirEnum.RES_DIR_BODY_EFF=ResDirEnum.RES_DIR+"bodyeff/",ResDirEnum.RES_DIR_EFF=ResDirEnum.RES_DIR+"eff/",ResDirEnum.RES_DIR_WIMGEFF=ResDirEnum.RES_DIR+"weaponimgeff/",ResDirEnum.RES_DIR_TITLE=ResDirEnum.RES_DIR+"title/",ResDirEnum.RES_DIR_MONSTER=ResDirEnum.RES_DIR+"monster/",ResDirEnum.RES_DIR_SKILL=ResDirEnum.RES_DIR+"skill/",ResDirEnum.RES_DIR_WEAPON=ResDirEnum.RES_DIR+"weapon/",ResDirEnum.RES_DIR_WEAPONEFF=ResDirEnum.RES_DIR+"weaponeff/",ResDirEnum.RES_DIR_HAIR=ResDirEnum.RES_DIR+"hair/",ResDirEnum.RES_DIR_TELEPORT=ResDirEnum.RES_DIR+"teleport/",ResDirEnum.RES_DIR_NPC=ResDirEnum.RES_DIR+"npc/",ResDirEnum.RES_DIR_CREATE=ResDirEnum.RES_DIR+"create/",ResDirEnum.RES_DIR_WORSHIP=ResDirEnum.RES_DIR+"Worship/",ResDirEnum.RES_DIR_PET=ResDirEnum.RES_DIR+"pet/",ResDirEnum.RES_DIR_PETEXTERIOR=ResDirEnum.RES_DIR+"petexterior/",console.log("res:"+ResDirEnum.RES_DIR),console.log("map:"+ResDirEnum.MAP_DIR),t.gameParameter.userInfo={},t.gameParameter.pfID=window.phonepfId,window.gameAppVersion&&(t.gameParameter.gameAppVersion=window.gameAppVersion),10007==t.gameParameter.pfID?(window.isTraditional=!0,t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO4",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="https://bxcqpush.freetop1.com",t.gameParameter.reportURLPF="https://bxcqpush.freetop1.com/lcelnow/role.php",t.gameParameter.pf="F1",t.gameParameter.payUrl="https://bxcqht.freetop1.com/lcelnow/notice/getsign",t.gameParameter.serviceListdUrl="https://devops.freetop1.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://devops.freetop1.com/Service/GetServerList.php",t.gameParameter.gongGaoUrl="https://bxcqht.freetop1.com/lcelnow/select/find-notice",t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10003==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="lOG_Honghu",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="https://bxcqpush.191game.com",t.gameParameter.pf="honghu",t.gameParameter.payUrl="https://bxcqht.freetop1.com/lcelnow/notice/getsign",t.gameParameter.serviceListdUrl="https://devops.191game.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://devops.191game.com/Service/GetServerList.php",t.gameParameter.gongGaoUrl="https://bxcqht.191game.com/redfox/select/find-notice?platform=honghu",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!1,t.gameParameter.isDisablePay=!1):10010==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.pf="gameCat",t.gameParameter.gameLoadImg="loadingGameCat",t.gameParameter.gameLoginImg="loginGameCat",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="https://fireguildpush.bigrnet.com",t.gameParameter.serviceListdUrl="https://fireguilddevops.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://fireguilddevops.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://fireguilddevops.bigrnet.com/order/order.php",t.gameParameter.payNotice="https://fireguildht.bigrnet.com/gamecat/order/notice",t.gameParameter.checkUrl="https://fireguildht.bigrnet.com/gamecat/user",t.gameParameter.gongGaoUrl="https://fireguildht.bigrnet.com/gamecat/select/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10024==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.pf="gamecatnztl",t.gameParameter.gameLoadImg="loadingGameCat",t.gameParameter.gameLoginImg="loginGameCat",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="http://yxmreport.bigrnet.com/",t.gameParameter.serviceListdUrl="https://yxmrepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://yxmrepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://yxmrepeat.bigrnet.com/order/order.php",t.gameParameter.payNotice="https://yxmht.bigrnet.com/gamecatnztl/order/notice",t.gameParameter.checkUrl="https://yxmht.bigrnet.com/gamecatnztl/user/index",t.gameParameter.gongGaoUrl="https://yxmht.bigrnet.com/gamecatnztl/select/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10011==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="",t.gameParameter.game="huowu",t.gameParameter.reportURL="https://huowuupload.bigrnet.com/",t.gameParameter.pf="huowu",t.gameParameter.serviceListdUrl="https://huowuzhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://huowuzhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://huowuht.bigrnet.com/mai/order",t.gameParameter.payNotice="https://huowuht.bigrnet.com/mai/order/notice",t.gameParameter.checkUrl="https://huowuht.bigrnet.com/mai/user",t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1,t.gameParameter.gongGaoUrl="https://huowuht.bigrnet.com/mai/select/find-notices",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0):10012==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO12",t.gameParameter.gameLoginImg="mp_xfjm_nztl",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="https://newupload.bigrnet.com",t.gameParameter.pf="quickbt",t.gameParameter.serviceListdUrl="https://newzhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://newzhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://newhoutai.bigrnet.com/quick/order/index",t.gameParameter.payNotice="https://newhoutai.bigrnet.com/quick/order/notice",t.gameParameter.checkUrl="https://newhoutai.bigrnet.com/quick/user/index",t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1,t.gameParameter.gongGaoUrl="https://newhoutai.bigrnet.com/quick/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0):10013==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO6",t.gameParameter.game="DDCQ",t.gameParameter.reportURL="https://suhaiupload.bigrnet.com/",t.gameParameter.pf="suhai",t.gameParameter.serviceListdUrl="https://suhaizhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://suhaizhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://suhaiht.bigrnet.com/suhai/order/index",t.gameParameter.gongGaoUrl="https://suhaiht.bigrnet.com/suhai/select/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10025==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO7",t.gameParameter.game="gametd",t.gameParameter.gameLoadImg="tdloadimg",t.gameParameter.gameLoginImg="tdlogin",t.gameParameter.reportURL="https://tudoureport.bigrnet.com/",t.gameParameter.pf="gametd",t.gameParameter.serviceListdUrl="https://tudourepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://tudourepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://tudouht.bigrnet.com/tudou/order/index",t.gameParameter.payNotice="https://tudouht.bigrnet.com/tudou/order/exchange",t.gameParameter.checkUrl="https://tudouht.bigrnet.com/tudou/user/login",t.gameParameter.gongGaoUrl="https://tudouht.bigrnet.com/tudou/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10029==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO8",t.gameParameter.game="potatobxsc",t.gameParameter.gameLoadImg="tdbxscloadimg",t.gameParameter.gameLoginImg="tdbxscloginimg",t.gameParameter.reportURL="https://tudoureport.bigrnet.com/",t.gameParameter.pf="potatobxsc",t.gameParameter.serviceListdUrl="https://tudourepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://tudourepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://tudouht.bigrnet.com/tudoup/order/index",t.gameParameter.checkUrl="https://tudouht.bigrnet.com/tudoup/user/login",t.gameParameter.gongGaoUrl="https://tudouht.bigrnet.com/tudoup/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10035==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO10",t.gameParameter.game="xiaoqi",window.verification="https://xiaoqiht.bigrnet.com/xiaoqi/send/check-chat",t.gameParameter.reportURL="https://xiaoqireport.bigrnet.com/",t.gameParameter.payUrl="https://xiaoqiht.bigrnet.com/xiaoqi/order/get-sign",t.gameParameter.pf="xiaoqi",t.gameParameter.serviceListdUrl="https://xiaoqirepeat.bigrnet.com//Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://xiaoqirepeat.bigrnet.com//Service/GetServerList.php",t.gameParameter.orderUrl="https://xiaoqiht.bigrnet.com/xiaoqi/order/index",t.gameParameter.checkUrl="https://xiaoqiht.bigrnet.com/xiaoqi/user/user-login",t.gameParameter.gongGaoUrl="https://xiaoqiht.bigrnet.com/xiaoqi/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10038==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO9",t.gameParameter.game="potatoby",t.gameParameter.gameLoadImg="tdbyloadimg",t.gameParameter.gameLoginImg="tdlogin",t.gameParameter.reportURL="https://tdbayereport.bigrnet.com/",t.gameParameter.pf="potatoby",t.gameParameter.serviceListdUrl="https://tdbayerepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://tdbayerepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://tdbayeht.bigrnet.com/tudouthree/order/index",t.gameParameter.payNotice="https://tdbayeht.bigrnet.com/tudouthree/order/exchange",t.gameParameter.checkUrl="https://tdbayeht.bigrnet.com/tudouthree/user/login",t.gameParameter.gongGaoUrl="https://tdbayeht.bigrnet.com/tudouthree/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10039==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO11",t.gameParameter.game="potatoxlby",t.gameParameter.gameLoadImg="tdxlbyloadimg",t.gameParameter.gameLoginImg="tdbxscloginimg",t.gameParameter.reportURL="https://tdbayereport.bigrnet.com/",t.gameParameter.pf="potatoxlby",t.gameParameter.serviceListdUrl="https://tdbayerepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://tdbayerepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://tdbayeht.bigrnet.com/tudoushunhuo/order/index",t.gameParameter.payNotice="https://tdbayeht.bigrnet.com/tudoushunhuo/order/exchange",t.gameParameter.checkUrl="https://tdbayeht.bigrnet.com/tudoushunhuo/user/login",t.gameParameter.gongGaoUrl="https://tdbayeht.bigrnet.com/tudoushunhuo/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):10041==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="",t.gameParameter.game="shengma",t.gameParameter.gameLoginImg="mp_xfjm_nztl",t.gameParameter.reportURL="http://yxmreport.bigrnet.com/",t.gameParameter.pf="shengma",t.gameParameter.serviceListdUrl="https://yxmrepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://yxmrepeat.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://yxmht.bigrnet.com/shengma/order/index",t.gameParameter.payNotice="https://yxmht.bigrnet.com/shengma/order/notice",t.gameParameter.checkUrl="https://yxmht.bigrnet.com/shengma/user/index",t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1,t.gameParameter.gongGaoUrl="https://yxmht.bigrnet.com/shengma/user/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0):10046==t.gameParameter.pfID?(t.gameParameter.loginType=!0,t.gameParameter.gameLogo="LOGO13",t.gameParameter.game="huoyan",t.gameParameter.gameLoginImg="mp_xfjm_nztl",t.gameParameter.reportURL="https://suhaiupload.bigrnet.com/",t.gameParameter.pf="huoyan",t.gameParameter.serviceListdUrl="https://suhaizhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="https://suhaizhuanfa.bigrnet.com/Service/GetServerList.php",t.gameParameter.orderUrl="https://suhaiht.bigrnet.com/huoyan/order/index",t.gameParameter.checkUrl="https://suhaiht.bigrnet.com/huoyan/user/index",t.gameParameter.gongGaoUrl="https://suhaiht.bigrnet.com/huoyan/select/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isReport=!0,t.gameParameter.isReportPF=!0,t.gameParameter.isDisablePay=!1):(t.gameParameter.loginType=!1,t.gameParameter.gameLogo="LOGO3",t.gameParameter.game="test",t.gameParameter.pf="interflowtest",t.gameParameter.serviceListdUrl="http://fgtest.bigrnet.com/H5CQ/develop/Service/GetServerList.php",t.gameParameter.setServiceListdUrl="http://fgtest.bigrnet.com/H5CQ/develop/Service/GetServerList.php",t.gameParameter.isReport=!1,t.gameParameter.isReportPF=!1,t.gameParameter.gongGaoUrl="http://fugametestht.bigrnet.com/test/select/find-notice",t.gameParameter.isShowGongGao=!0,t.gameParameter.isAutoShowGongGao=!0,t.gameParameter.isDisablePay=!1))):(window.onLogoutPC=this.onLogoutPC.bind(this),window.logoutPCInfo=this.logoutPCInfo.bind(this),window.newLoadingView=this.newLoadingView.bind(this),t.gameParameter.loginType=window.loginType,t.gameParameter.gameLogo=window.gameLogo,t.gameParameter.game=window.game,t.gameParameter.pf=window.pf,t.gameParameter.pfID=window.pfID,t.gameParameter.serviceListdUrl=window.serviceListdUrl,t.gameParameter.setServiceListdUrl=window.setServiceListdUrl,t.gameParameter.isReport=window.isReport,t.gameParameter.isReportPF=window.isReportPF,t.gameParameter.isDisablePay=window.isDisablePay,t.gameParameter.reportURL=window.reportUrl,t.gameParameter.reportURLPF=window.reportURLPF,t.gameParameter.payUrl=window.payUrl,t.gameParameter.orderUrl=window.orderUrl,t.gameParameter.payNotice=window.payNotice,t.gameParameter.gameLoadImg=window.gameLoadImg,t.gameParameter.gameLoginImg=window.gameLoginImg,t.gameParameter.gongGaoUrl=window.gongGaoUrl,t.gameParameter.isShowGongGao=window.isShowGongGao,t.gameParameter.isAutoShowGongGao=window.isAutoShowGongGao,t.gameParameter.publicRes=window.publicRes,t.gameParameter.publicRes&&""!=t.gameParameter.publicRes&&(ResDirEnum.RES_DIR=t.gameParameter.publicRes+ResDirEnum.RES_DIR,ResDirEnum.MAP_DIR=t.gameParameter.publicRes+ResDirEnum.MAP_DIR,ResDirEnum.Init()),t.gameParameter.userInfo=window.userInfo,egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.onViewResize,this),this.onViewResize()),app.ReportDataMgr.ins().reporting(app.ReportDataEnum.LOGIN_VIEW,{},null,!1),egret.ImageLoader.crossOrigin="anonymous",egret.registerImplementation("eui.IAssetAdapter",new AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),gamelib.DeviceUtils.IsNative||(ResDirEnum.RES_RESOURCE=ResDirEnum.RES_RESPUBLISH,document.getElementById("egret-fps-panel")&&(document.getElementById("egret-fps-panel").style.visibility="hidden")),t.tipsLab=new eui.Label,t.tipsLab.size=23,t.tipsLab.textColor=16777215,t.tipsLab.touchEnabled=!1,t.tipsLab.stroke=1,t.tipsLab.strokeColor=0,gamelib.os.startUp(),gamelib.os.RM.resResource=ResDirEnum.RES_RESOURCE,gamelib.os.RM.resMovieClip=ResDirEnum.RES_DIR,window.phoneH5?this.runGamePhoneH5()["catch"](function(e){console.log(e)}):gamelib.DeviceUtils.IsMobile?gamelib.DeviceUtils.IsNative?this.runGamePhone()["catch"](function(e){console.log(e)}):this.runGamePhone()["catch"](function(e){console.log(e)}):this.runGame()["catch"](function(e){console.log(e)})},t.showGongGaoView=function(){t.gongGaoView||(t.gongGaoView=new app.MainGongGaoWin,t.main_instance.addChild(t.gongGaoView))},t.showAgeoView=function(){t.ageView||(t.ageView=new app.AgeWin,t.main_instance.addChild(t.ageView))},t.startServerTips=function(e){var i=new app.MainStartServerTipsView;i.setTipsLab(e),t.main_instance.addChild(i)},t.prototype.phoneLogout=function(){t.onLogout("")},t.prototype.phoneSwitchAccountSuccess=function(){t.copyUerInfo();
var e=egret.getDefinitionByName("app.GameSocket");e&&(e.ins().isDoTimer=!1,e.ins().isAddGameApp=!1,e.ins().logoutClose());var i=egret.getDefinitionByName("app.DefaultMgr");i&&i.ins().clearMap();var r=egret.getDefinitionByName("app.SceneManager");r&&r.ins().clear(),t.phoneLoadingView&&(t.phoneLoadingView.removeView(),t.phoneLoadingView=null),t.createServerView()},t.onLogout=function(e){t.gameParameter.userInfo={};var i=egret.getDefinitionByName("app.GameSocket");i&&(i.ins().isDoTimer=!1,i.ins().isAddGameApp=!1,i.ins().logoutClose());var r=egret.getDefinitionByName("app.DefaultMgr");r&&r.ins().clearMap();var n=egret.getDefinitionByName("app.SceneManager");n&&n.ins().clear(),t.phoneLoadingView&&(t.phoneLoadingView.removeView(),t.phoneLoadingView=null),t.phoneLoginView&&(t.phoneLoginView.removeView(),t.phoneLoginView=null),window.phoneH5?t.main_instance.createPhoneH5View():gamelib.DeviceUtils.IsMobile&&10041!=t.gameParameter.pfID||e&&"68hwan"==e?t.main_instance.createPhoneView():t.main_instance.createView()},t.prototype.onLogoutPC=function(){egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!1;var e=egret.getDefinitionByName("app.GameSocket");e&&(e.ins().isDoTimer=!1,e.ins().isAddGameApp=!1,e.ins().logoutClose());var i=egret.getDefinitionByName("app.DefaultMgr");i&&i.ins().clearMap(),t.phoneLoadingView&&(t.phoneLoadingView.removeView(),t.phoneLoadingView=null),window.onClickFucntion&&window.onClickFucntion()},t.prototype.logoutPCInfo=function(){t.copyUerInfo();var e=egret.getDefinitionByName("app.SceneManager");e&&e.ins().clear(),egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!0,this.createView()},t.prototype.onViewResize=function(){var e=document.getElementById("mainDiv");if(e){var t=e.getBoundingClientRect(),i=t.width;1600>i?egret.MainContext.instance.stage.scaleMode!=egret.StageScaleMode.FIXED_WIDTH&&(egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO):egret.MainContext.instance.stage.scaleMode!=egret.StageScaleMode.NO_SCALE&&(egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.NO_SCALE,egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO)}},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,RES.loadConfig(ResDirEnum.RES_RESOURCE+"default.res.json?v="+(new Date).getTime(),ResDirEnum.RES_RESOURCE)];case 1:return e.sent(),[4,this.createView()];case 2:return e.sent(),[2]}})})},t.prototype.createView=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){return window.selectServer&&(window.removeLogDiv&&window.removeLogDiv(),t.phoneLoginView||(t.phoneLoginView=new app.MainLoginView,window.selectView=t.phoneLoginView,this.addChild(t.phoneLoginView))),e=new app.ServerListInfo,e.getServerInfo(),[2]})})},t.newCreateView=function(){t.heartbeatPak(1),gamelib.DeviceUtils.IsNative?t.createRoleView||(t.createRoleView=new app.PhoneCreateRoleView):(t.createRoleView||(t.createRoleView=new app.MainCreateRoleView),window.removeLogDiv&&window.removeLogDiv()),t.main_instance.addChildAt(t.createRoleView,0),t.phoneLoginView&&(t.phoneLoginView.removeView(),t.phoneLoginView=null,window.selectView=null)},t.switchServer=function(){t.heartbeatPak(1),gamelib.DeviceUtils.IsNative||window.removeLogDiv&&window.removeLogDiv();var e=new app.MainNewServerView;t.main_instance.addChild(e)},t.prototype.newLoadingView=function(){t.heartbeatPak(1),window.selectServer&&t.phoneLoginView&&(t.phoneLoginView.removeView(),t.phoneLoginView=null,window.selectView=null),window.removeLogDiv&&window.removeLogDiv(),t.phoneLoadingView||(t.phoneLoadingView=new app.MainLoadingView,this.addChild(t.phoneLoadingView)),t.createRoleView&&t.createRoleView.close(),t.ageView&&(t.ageView.parent&&t.ageView.parent.removeChild(t.ageView),t.ageView=null),t.createRoleView=null;var e=this,i=egret.getDefinitionByName("app.GameApp");i?e.gameStartUp():(t.phoneLoadingView.showLoadProgress(35,"正在穿上布衣……"),window.loadScript(window.gameAppJS,function(){t.phoneLoadingView.showLoadProgress(40,"正在穿上布衣……"),e.gameStartUp()}))},t.heartbeatPak=function(e){var t=app.GameSocket.ins();t.heartbeatPak(e)},t.prototype.gameStartUp=function(){t.tipsLab.parent&&t.tipsLab.parent.removeChild(t.tipsLab),t.phoneLoadingView.showLoadProgress(48,"正在穿上布衣……");var e=egret.getDefinitionByName("app.GameApp");e?e.ins().startUp(this):(t.phoneLoadingView.showLoadProgress(49,"主程序加载失败,请检查网络,刷新游戏"),t.showTipsPhone&&t.showTipsPhone("主程序加载失败"))},t.remLogin=function(){t.phoneLoadingView&&(t.phoneLoadingView.removeView(),t.phoneLoadingView=null),t.phoneLoadingView=null,t.showTipsPhone=null},t.prototype.runGamePhone=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return console.log("main:手机测版 runGamePhone"),[4,RES.loadConfig(ResDirEnum.RES_RESOURCE+"phonedefault.res.json?v="+(new Date).getTime(),ResDirEnum.RES_RESOURCE)];case 1:return e.sent(),[4,this.createPhoneView()];case 2:return e.sent(),[2]}})})},t.prototype.runGamePhoneH5=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return console.log("main:手机测版 runGamePhoneH5"),[4,RES.loadConfig(ResDirEnum.RES_RESOURCE+"phonedefault.res.json?v="+(new Date).getTime(),ResDirEnum.RES_RESOURCE)];case 1:return e.sent(),[4,this.createPhoneH5View()];case 2:return e.sent(),[2]}})})},t.showTipsPhone=function(e){t.tipsLab.visible=!0,t.tipsLab.text=e,t.tipsLab.verticalCenter=-100,t.tipsLab.horizontalCenter=0,t.tipsLab.alpha=1,t.main_instance.addChild(t.tipsLab),egret.Tween.removeTweens(t.tipsLab);var i=egret.Tween.get(t.tipsLab);i.to({verticalCenter:-100},500).to({alpha:0,verticalCenter:-300},1e3).call(function(){t.tipsLab.visible=!1,egret.Tween.removeTweens(t.tipsLab)})},t.copyUerInfo=function(){t.gameParameter.userInfo=window.userInfo},t.prototype.createPhoneView=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return t.gameParameter.loginType?gamelib.DeviceUtils.IsNative?10003==t.gameParameter.pfID||10010==t.gameParameter.pfID||10011==t.gameParameter.pfID||10012==t.gameParameter.pfID||10013==t.gameParameter.pfID||10024==t.gameParameter.pfID||10025==t.gameParameter.pfID||10029==t.gameParameter.pfID||10038==t.gameParameter.pfID||10035==t.gameParameter.pfID||10039==t.gameParameter.pfID||10041==t.gameParameter.pfID||10046==t.gameParameter.pfID?t.Native_initializationSDK({}):this.createLoginView():t.gameParameter.userInfo?t.createServerView():10010==t.gameParameter.pfID?(t.signInView=new app.SignInView,this.addChildAt(t.signInView,0),window.onClickFucntion&&window.onClickFucntion()):t.createServerView():(t.signInView=new app.SignInView,this.addChildAt(t.signInView,0),console.log(egret.Capabilities.runtimeType),console.log("main:手机测试版本"+gamelib.DeviceUtils.IsNative),egret.ExternalInterface.call("hideLoadingView","")),gamelib.DeviceUtils.IsHtml5&&window.removeLogDiv&&window.removeLogDiv(),[2]})})},t.prototype.createPhoneH5View=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return t.gameParameter.loginType&&(t.signInView=new app.SignInViewH5,this.addChildAt(t.signInView,0)),[2]})})},t.prototype.createH5ServerView=function(){t.copyUerInfo(),t.createServerView()},t.prototype.createLoginView=function(){t.signInView||(t.signInView=new app.PhoneMainLoginView,this.addChildAt(t.signInView,0),t.signInView.initUI())},t.createServerView=function(){t.signInView&&(t.signInView.removeView(),t.signInView=null),window.removeLogDiv&&window.removeLogDiv(),t.phoneLoginView||(t.phoneLoginView=new app.PhoneLoginView,t.main_instance.addChild(t.phoneLoginView)),10003==t.gameParameter.pfID&&gamelib.DeviceUtils.IsIOS&&t.phoneLoginView&&t.phoneLoginView.setSwitchAccount();var e=new app.PhoneServerListInfo;e.getServerInfo(),window.NativeObj&&window.NativeObj.hideLoadingView&&window.NativeObj.hideLoadingView()},t.newPhoneLoadingView=function(){if(t.phoneLoginView&&(t.phoneLoginView.removeView(),t.phoneLoginView=null),t.createRoleView&&(t.createRoleView.close(),t.createRoleView=null),t.phoneLoadingView=new app.PhoneLoadingView,t.main_instance.addChild(t.phoneLoadingView),t.tipsLab.parent&&t.tipsLab.parent.removeChild(t.tipsLab),t.phoneLoadingView.showLoadProgress(35,"正在穿上布衣……"),gamelib.DeviceUtils.IsHtml5){t.phoneLoadingView.showLoadProgress(35,"正在穿上布衣……");var e=egret.getDefinitionByName("app.GameApp");e?t.startGameApp():window.loadScript(window.gameAppJS,function(){t.phoneLoadingView.showLoadProgress(40,"正在穿上布衣……"),t.startGameApp()})}else t.startGameApp()},t.startGameApp=function(){t.ageView&&(t.ageView.parent&&t.ageView.parent.removeChild(t.ageView),t.ageView=null),t.phoneLoadingView.showLoadProgress(48,"正在穿上布衣……");var e=egret.getDefinitionByName("app.GameApp");e?e.ins().startUp(t.main_instance):t.phoneLoadingView.showLoadProgress(49,"主程序加载失败,请检查网络,刷新游戏")},t.prototype.setExternalInterfaces=function(){var e=this;egret.ExternalInterface.addCallback("onInitializeComplete",function(i){console.log("SDK初始化结果："),console.log(i);try{var r=JSON.parse(i);+r.code>0||(r.gameVersion&&(t.gameParameter.gameVersion=r.gameVersion+""),e.createLoginView())}catch(n){console.log("账号信息错1！")}}),egret.ExternalInterface.addCallback("onUserInfo",function(e){console.log("账户信息："),console.log(e);try{t.gameParameter.userInfo={};var i=egret.getDefinitionByName("app.GameSocket");i&&(i.ins().isDoTimer=!1,i.ins().isAddGameApp=!1,i.ins().logoutClose());var r=egret.getDefinitionByName("app.DefaultMgr");r&&r.ins().clearMap();var n=egret.getDefinitionByName("app.SceneManager");n&&n.ins().clear(),t.phoneLoadingView&&(t.phoneLoadingView.removeView(),t.phoneLoadingView=null);var o=JSON.parse(e),a=!1;if(1758==+o.hfId?(a=!0,t.gameParameter.checkUrl="https://tudouht.bigrnet.com/tudout/user/login"):"68hwan"==o.channelID&&(a=!0,t.gameParameter.checkUrl="https://yxmht.bigrnet.com/shengmahf/user/index"),t.gameParameter.userInfo=o,t.gameParameter.checkUrl&&10010!=t.gameParameter.pfID){var s="?";for(var l in o)s+=l+"="+o[l]+"&";console.log("aaaaaaaaaa"+s);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(4==h.readyState&&200==h.status)try{var e=JSON.parse(h.responseText);e&&"success"==e.code?(console.log("验证角色信息通过了"),e.data&&(10029==t.gameParameter.pfID||a||10035==t.gameParameter.pfID||10039==t.gameParameter.pfID||10046==t.gameParameter.pfID)&&(t.gameParameter.userInfo.uid=e.data,console.log("角色信息"+JSON.stringify(t.gameParameter.userInfo))),t.createServerView()):t&&t.showTipsPhone&&t.showTipsPhone("账号验证失败，请重新登录")}catch(i){t&&t.showTipsPhone&&t.showTipsPhone("账号验证失败，请重新登录")}},h.open("GET",t.gameParameter.checkUrl+s+"time="+(new Date).getTime(),!0),h.send(null)}else t.createServerView()}catch(c){console.log("账号信息错3！")}}),egret.ExternalInterface.addCallback("onPayResult",function(e){console.log("支付结果："),console.log(e)}),egret.ExternalInterface.addCallback("onLogout",function(e){console.log("登出："),console.log(e),t.onLogout(e)}),egret.ExternalInterface.addCallback("onMinor",function(e){console.log(e)})},t.Native_onClickLogin=function(e){e.loginType=t.gameParameter.loginType?1:0;var i=JSON.stringify(e);console.log("main:手机测试版本 onClickLogin"),egret.ExternalInterface.call("onClickLogin",i)},t.Native_onClickPay=function(e){console.log("main:手机测试版本 Native_onClickPay");var t=JSON.stringify(e);egret.ExternalInterface.call("onClickPay",t)},t.Native_RestartApp=function(e){e.loginType=t.gameParameter.loginType?1:0;var i=JSON.stringify(e);console.log("main:手机测试版本 restartApp"),egret.ExternalInterface.call("restartApp",i)},t.Native_initializationSDK=function(e){e.loginType=t.gameParameter.loginType?1:0;var i=JSON.stringify(e);console.log("main:手机测试版本 initializationSDK"),egret.ExternalInterface.call("initializationSDK",i)},t.Native_reportPlayerData=function(e){var t=JSON.stringify(e);console.log("main:上报 reportInfo"),egret.ExternalInterface.call("reportInfo",t)},t.Native_adJustData=function(e){var t=JSON.stringify(e);console.log("main:F1埋点 adJustData"),egret.ExternalInterface.call("adJustData",t)},t.Native_onCopy=function(e){console.log("main:手机版本复制 @onCopy"),egret.ExternalInterface.call("@onCopy",e)},t.Native_openURL=function(e){console.log("main:手机原生打开网址 openUrl"),egret.ExternalInterface.call("@openUrl",e)},t.Native_honghuSwitchAccount=function(e){console.log("main:手机原生打开网址 switchAccount"),egret.ExternalInterface.call("@hhSwitchAccount",e)},t.gongGaoView=null,t.ageView=null,t}(eui.UILayer);__reflect(Main.prototype,"Main");var app;!function(e){var t=function(t){function i(){var i=t.call(this)||this;i._selectJob=0,i._selectSex=0,i.isAutoEnter=!1,i.roleData=null,i.roleTexture=null,i.mcName="",i.roleMcFactory=new egret.MovieClipDataFactory,i.autoCreateStr="",e.ReportDataMgr.ins().reporting(e.ReportDataEnum.CREATE_ROLE_VIEW,{},null,!1);var r='\n            <e:Skin class="BtnCreateSkin" states="up,down,disabled,selected" minHeight="25" minWidth="25" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing" height="100" width="73">\n	        <e:Image id="iconDisplay" alpha.disabled="0.5"\n	         x.down="0.5" y.down="1"  scaleX.down="0.55" scaleY.down="0.55" pixelHitTest="true" source="login_nv_1" horizontalCenter.selected="0" verticalCenter="-10.5" horizontalCenter="0" scaleX="0.6" scaleY="0.6" source.selected="login_zs_2"/>\n            <e:Image id="selected" pixelHitTest="true" horizontalCenter="0" includeIn="selected" verticalCenter="-10.5" scaleX="0.6" scaleY="0.6" source=""/>\n            <e:Rect width="100%" height="100%" y="0" fillAlpha="0" strokeAlpha="0" fillColor="0xffffff" touchEnabled="true" includeIn="disabled"/>\n            <e:Label id="labelDisplay" text="战士" y="75.34"  horizontalCenter="1" textColor.up="0xdfbd9e" textColor.selected="0xd48129" size="20" stroke="2" bold="true" textColor="0xe5ddcf"/>\n            <e:Image source="login_xuanzhong" width="81" height="80" x.disabled="-10.1" x.down="-10.1" x.up="-10.1" y.disabled="-9.5" y.down="-9.5" y.up="-9.5" touchEnabled="false" visible.up="false" visible.down="false" visible.disabled="false"  scale9Grid="19,19,2,2" horizontalCenter="0" verticalCenter="-10" horizontalCenter.selected="0"/>\n            </e:Skin>\n            ';i.jobBtn=EXML.parse(r);var n='\n            <e:Skin class="MainCreateRoleSkin" xmlns:e="http://ns.egret.com/eui"  >\n	        <e:Rect width="100%" height="100%" fillAlpha="1"/>\n	        <e:Group id="group" width="1344" height="840" horizontalCenter="0" verticalCenter="0">\n            <e:Image id="bgImg" source="login_bg2_jpg" horizontalCenter="0" verticalCenter="0"/>\n            <e:Label id="timeLab" text="" size="22" textColor="0x28ee01" x="530" y="677" width="300" textAlign="center"/>\n            <e:Group id="roleGrp" y="583.33" x="482" scaleX="0.9" scaleY="0.9"/>\n            <e:Rect id="rect" width="60" height="70" y="414" x="447" visible="false"/>\n            <e:Group x="769" y="360">\n            <e:Button id="job1" label="战士" icon="login_zs_2" skinName="BtnCreateSkin"/>\n            <e:Button id="job2" label="法师" icon="login_fs_2" skinName="BtnCreateSkin" x="135.52" y="-1"/>\n            <e:Button id="job3" label="道士" icon="login_ds_2" skinName="BtnCreateSkin" x="283.49" y="-1"/>\n            <e:layout>\n                <e:HorizontalLayout gap="4"/>\n            </e:layout>\n            </e:Group>\n            <e:Group x="802" y="501">\n            <e:Button id="boy" label="男" icon="login_nan_2" skinName="BtnCreateSkin" x="2"/>\n            <e:Button id="girl" label="女" icon="login_nv_2" skinName="BtnCreateSkin" x="149"/>\n            <e:layout>\n                <e:HorizontalLayout gap="8"/>\n            </e:layout>\n            </e:Group>\n            <e:Group x="577" y="697.67" width="208" height="90">\n            <e:Button id="createBtn"  icon="login_btn" x="0" scaleX="0.7" scaleY="0.7">\n                <e:skinName>\n                    <e:Skin states="up,down,disabled">\n                    <e:Image id="iconDisplay" horizontalCenter="0" verticalCenter="0" scaleX.down="0.98" scaleY.down="0.98"/>\n                    <e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n                    </e:Skin>\n                </e:skinName>\n            </e:Button>\n            </e:Group>\n            <e:Group id="createMcGrp" x="680" y="744" touchEnabled="false" touchChildren="false" touchThrough="false"/>\n            <e:Button id="diceBtn" icon="login_suiji"  x="974" y="265" scaleX="1.2" scaleY="1.2">\n                <e:skinName>\n                    <e:Skin states="up,down,disabled">\n                    <e:Image horizontalCenter="0" verticalCenter="0" source="login_suiji" source.down="login_suiji" scaleX.down="0.98" scaleY.down="0.98"/>\n                    <e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n                    </e:Skin>\n                </e:skinName>\n            </e:Button>\n            <e:EditableText id="nameInput" width="172" text="" x="793" y="272" size="24" textAlign="center" verticalAlign="middle"/>\n            </e:Group>\n            </e:Skin>\n             ';return i.clazz=EXML.parse(n),i.skinName="MainCreateRoleSkin",i.percentHeight=100,i.percentWidth=100,i.horizontalCenter=0,i.verticalCenter=0,i.job1.selected.source="login_zs_1",i.job2.selected.source="login_fs_1",i.job3.selected.source="login_ds_1",i.boy.selected.source="login_nan_1",i.girl.selected.source="login_nv_1",i.setViewSize(),i}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.createBtnMC=function(){var e=(RES.getRes(ResDirEnum.RES_DIR+"create/create_anniu_json?v=7"),RES.getRes(ResDirEnum.RES_DIR+"create/create_anniu_png?v=7"),null),t=null,i=this,r=new egret.MovieClipDataFactory;this.createMc=new egret.MovieClip,this.createMc.touchEnabled=!1,this.createMcGrp.addChild(this.createMc);var n=function(){e&&t&&(r.clearCache(),r.mcDataSet=e,r.texture=t,i.createMc.movieClipData=r.generateMovieClipData("create_anniu"),i.createMc.gotoAndPlay(1,-1))};RES.getResByUrl(ResDirEnum.RES_DIR+"eff/create_anniu.json?v=7",function(t,i){t&&(e=t,n())},this,RES.ResourceItem.TYPE_JSON),RES.getResByUrl(ResDirEnum.RES_DIR+"eff/create_anniu.png?v=7",function(e,i){e&&(t=e,n())},this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.createRoleMC=function(e){this.mcName=e,this.roleData=null,this.roleTexture=null,RES.getResByUrl(ResDirEnum.RES_DIR+"create/"+this.mcName+".json?v=7",this.compFuncJson,this,RES.ResourceItem.TYPE_JSON),RES.getResByUrl(ResDirEnum.RES_DIR+"create/"+this.mcName+".png?v=7",this.compFuncPng,this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.compFuncJson=function(e,t){e&&t&&-1!=t.indexOf(this.mcName)&&(this.roleData=e,this.createBody())},i.prototype.compFuncPng=function(e,t){e&&t&&-1!=t.indexOf(this.mcName)&&(this.roleTexture=e,this.createBody())},i.prototype.createBody=function(){this.roleData&&this.roleTexture&&(this.roleMcFactory.mcDataSet=this.roleData,this.roleMcFactory.texture=this.roleTexture,this.roleMc.movieClipData=this.roleMcFactory.generateMovieClipData(this.mcName),this.roleMc.gotoAndPlay(1,-1))},i.prototype.initUI=function(){this.autoCreateStr="秒后自动创建",this.createBtn.icon="login_btn",window.isTraditional&&(this.bgImg.source="login_bg1_jpg",this.createBtn.icon="login_btn1",this.job1.label="戰士",this.job2.label="法師",this.job3.label="道士",this.autoCreateStr="秒後自動創建"),this.selectJob=1,this.selectSex=0,this.roleMc=new egret.MovieClip,this.roleMc.touchEnabled=!1,this.roleMc.scaleX=this.roleMc.scaleY=1.4,this.roleGrp.addChild(this.roleMc),this.createBtnMC(),egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.setViewSize,this),this.job1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.boy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.girl.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.diceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var t=e.LocationProperty.nickName;"null"==t||""==t?e.GameSocket.ins().s_255_6(this._selectSex):this.setName(t),this.nameInput.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.nameInput.maxChars=7,gamelib.DeviceUtils.IsMobile||(this.openTime=egret.getTimer()+3e4,this.updateTiem(),this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.updateTiem,this)),this.timer=new egret.Timer(1e3,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.updateTiem,this),this.timer.start())},i.prototype.updateTiem=function(){var e=Math.ceil((this.openTime-egret.getTimer())/1e3);this.timeLab.text=""+Math.max(e,0)+this.autoCreateStr,0>=e&&(this.isAutoEnter=!0,this.sendCreateRole())},i.prototype.createRuselt=function(e){6==Math.abs(e)},i.prototype.perloadProgress=function(e){e[0],e[1]},i.prototype.setViewSize=function(){var e=egret.MainContext.instance.stage.stageHeight;e<this.group.height?this.group.scaleX=this.group.scaleY=e/this.group.height:this.group.scaleX=this.group.scaleY=1},i.prototype.close=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];egret.MainContext.instance.stage.removeEventListener(egret.Event.RESIZE,this.setViewSize,this),this.job1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.boy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.girl.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.diceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.nameInput.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createMc&&(this.createMc.stop(),this.createMc=null),this.roleMc=null,this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.updateTiem,this)),this.parent&&this.parent.removeChild(this),e.GameSocket.ins().isNewRole=!0},i.prototype.qqHallSendCreate=function(t){1==t.type&&(0==t.isLegal?e.GameSocket.ins().s_255_4(t.Msg,"",0,this.curSex(),this.curJob()):Main.showTipsPhone&&Main.showTipsPhone("输入的文字不合法"))},i.prototype.sendCreateRole=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.updateTiem,this));var t=this.nameInput.text.replace(/\s/g,"");if(t.length){this.nameInput.text;10006==Main.gameParameter.pfID?this.qqHallTextFiltering(this.nameInput.text,1):e.GameSocket.ins().s_255_4(this.nameInput.text,"",0,this.curSex(),this.curJob())}else Main.showTipsPhone&&Main.showTipsPhone("角色名不能为空！")},i.prototype.qqHallTextFiltering=function(e,t){var i="openid="+Main.gameParameter.userInfo.openid+"&openkey="+Main.gameParameter.userInfo.openkey+"&pf="+Main.gameParameter.userInfo.pf+"&format=&msg="+e+"&type="+t,r=new XMLHttpRequest,n=this;r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=JSON.parse(r.responseText);e&&0==e.ret?n.qqHallSendCreate({isLegal:e.text_result_list_[0].check_ret_,type:t,Msg:e.text_result_list_[0].result_text_}):Main.showTipsPhone&&Main.showTipsPhone("输入的文字不合法")}},r.open("GET",window.textFiltering+i,!0),r.send(null)},i.prototype.onClick=function(t){switch(t.currentTarget){case this.createBtn:this.sendCreateRole();break;case this.diceBtn:e.GameSocket.ins().s_255_6(this._selectSex);case this.nameInput:break;case this.boy:this.selectSex=0;break;case this.girl:this.selectSex=1;break;case this.job1:this.selectJob=1;break;case this.job2:this.selectJob=2;break;case this.job3:this.selectJob=3}},Object.defineProperty(i.prototype,"selectJob",{set:function(e){this._selectJob=e,this.updateRole()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectSex",{set:function(e){this._selectSex=e,this.updateRole()},enumerable:!0,configurable:!0}),i.prototype.updateRole=function(){var e=this.curJob(),t=this.curSex();10021==Main.gameParameter.pfID&&(this.rect.visible=1==e&&1==t),this.createRoleMC("create_"+e+"_"+t);for(var i=1;3>=i;i++)this["job"+i].currentState="up";this["job"+e].currentState="selected",0==t?(this.boy.currentState="selected",this.girl.currentState="up"):(this.girl.currentState="selected",this.boy.currentState="up")},i.prototype.setName=function(e){this.nameInput.text=e,this.isAutoEnter&&this.sendCreateRole()},i.prototype.curJob=function(){return this._selectJob},i.prototype.curSex=function(){return this._selectSex},i}(eui.Component);e.MainCreateRoleView=t,__reflect(t.prototype,"app.MainCreateRoleView")}(app||(app={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n            <e:Skin class="GongGaoTabSkin" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing" states="up,down" >\n	<e:Image horizontalCenter="0" verticalCenter="0" source="tab_01_2"/>\n	<e:Image horizontalCenter="0" verticalCenter="0" visible.up="false" source="tab_01_1"/>\n	<e:Label id="label" text="基  础" textColor="0xF0C896" size="22" horizontalCenter="0" verticalCenter="0" stroke="2" textColor.down="0xe5ddcf"/>\n</e:Skin>\n            ';return EXML.parse(i),t.skinName="GongGaoTabSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.data&&(this.label.text=this.data.title)},t}(eui.ItemRenderer);e.MainGongGaoItemView=t,__reflect(t.prototype,"app.MainGongGaoItemView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this;e.gongGaoData=[];var i='\n            <e:Skin class="MainGongGaoViewSkin" width="912" height="646" xmlns:e="http://ns.egret.com/eui" xmlns:app="app.*" xmlns:w="http://ns.egret.com/wing">\n	<e:Group>\n		<e:Image scaleX="1" scaleY="1" scale9Grid="74,80,634,486" source="com_bg_kuang_5_png" x="0" y="0"/>\n		<e:Image smoothing="false" width="157" source="com_bg_kuang_6_png" scale9Grid="17,19,2,4" x="23" height="560" y="56"/>\n		<e:Image x="185" y="56" source="com_bg_kuang_6_png" height="486" width="702"/>\n	</e:Group>\n	<e:Button id="btn_close" label="" width="60" scaleX="1.2" scaleY="1.2" x="889" y="-9">\n		<e:skinName>\n		<e:Skin states="up,down,disabled">\n			<e:Image width="100%" height="100%" source="btn_guanbi3" source.down="btn_guanbi4" source.disabled="btn_guanbi4"/>\n			<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n		</e:Skin>\n		</e:skinName>\n	</e:Button>\n	<e:Label id="txt_name" size="26" stroke="2" scaleX="1" scaleY="1" touchEnabled="false" top="17" horizontalCenter="0" textColor="0xE5DDCF" text="系统公告"/>\n	<e:TabBar id="tab" x="28" y="61">\n		<e:layout>\n		<e:VerticalLayout horizontalAlign="center" gap="-3"/>\n		</e:layout>\n	</e:TabBar>\n	<e:Group height="560" x="185" y="56" width="700" touchEnabled="false">\n		<e:Scroller id="gongGaoScroller" width="644" height="452" x="30" y="22">\n			<e:Group>\n				<e:Label id="textLab" text="" size="24" stroke="2" textColor="0xe5ddcf" width="644" lineSpacing="10" scaleX="1" scaleY="1" y="2"/>\n			</e:Group>\n		</e:Scroller>\n		<e:Button id="sureBtn" label="确 定" y="500" x="273" width="109" height="44" scaleX="1" scaleY="1">\n			<e:skinName>\n			<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="tips_btn" source.down="tips_btn" source.disabled="tips_btn" scaleX.down="0.95" scaleY.down="0.95"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0" size="20" stroke="2" textColor="0xe5ddcf"/>\n			</e:Skin>\n			</e:skinName>\n		</e:Button>\n	</e:Group>\n</e:Skin>\n            ';return e.clazz=EXML.parse(i),e.skinName="MainGongGaoViewSkin",e.horizontalCenter=e.verticalCenter=0,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.initUI=function(){this.gongGaoData=[],this.tab.itemRenderer=e.MainGongGaoItemView,this.sureBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.tab.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onChange,this);var t=this,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)try{t.gongGaoData=JSON.parse(i.responseText),t.updateTabInfo()}catch(e){console.log("主界面公告返回失败")}},i.open("GET",Main.gameParameter.gongGaoUrl+"?platform="+Main.gameParameter.game+"&v="+(new Date).getTime(),!0),i.send(null),this.gongGaoScroller.viewport.scrollV=0,this.gongGaoScroller&&this.gongGaoScroller.verticalScrollBar&&(this.gongGaoScroller.verticalScrollBar.autoVisibility=!1,this.gongGaoScroller.verticalScrollBar.visible=!1)},i.prototype.onClick=function(t){switch(t.currentTarget){case this.sureBtn:e.SoundUtil.ins().playMonster("anniu2_mp3"),this.removeView();break;case this.btn_close:e.SoundUtil.ins().playMonster("anniu2_mp3"),this.removeView()}},i.prototype.updateTabInfo=function(){this.gongGaoData.length>0&&(this.tab.dataProvider=new eui.ArrayCollection(this.gongGaoData),this.tab.selectedIndex=0,this.updateGongGaoText())},i.prototype.onChange=function(e){this.gongGaoScroller.viewport.scrollV=0,this.updateGongGaoText()},i.prototype.updateGongGaoText=function(){if(this.gongGaoData.length>0){var e=this.tab.dataProvider.getItemAt(this.tab.selectedIndex);e&&e.text&&(this.textLab.textFlow=(new egret.HtmlTextParser).parser(e.text))}},i.prototype.removeView=function(){this.gongGaoData=[],this.sureBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.tab.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onChange,this),this.parent&&(this.parent.removeChild(this),Main.gongGaoView=null)},i}(eui.Component);e.MainGongGaoWin=t,__reflect(t.prototype,"app.MainGongGaoWin")}(app||(app={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n        <e:Skin class="loadingview"  width="1344" height="840" xmlns:e="http://ns.egret.com/eui">\n	    <e:Image id="BgImg" horizontalCenter="0" verticalCenter="0" source="mp_jzjm_png" scaleX="1" scaleY="1"/>\n	    <e:Group width="919" height="136" bottom="104" horizontalCenter="0.5" touchEnabled="false">\n		<e:Image source="login_jdt_t" bottom="45" horizontalCenter="0" scaleX="0.7" scaleY="0.7" x="16" y="79"/>\n		<e:Rect id="rect" width="879" height="14" fillColor="0x140500" bottom="45" y="78" right="20"/>\n		<e:Image source="login_jdt_k" bottom="39" horizontalCenter="0" scaleX="0.7" scaleY="0.7" x="11" y="75"/>\n		<e:Label id="lodingDesc" text="正在进入游戏" bottom="9" horizontalCenter="0" size="27" textColor="0xe5ddcf" stroke="2" x="378" y="101" />\n		<e:Image id="firstLoadImg" source="login_wenzi3" bottom="68" horizontalCenter="0" x="25" y="3" />\n		<e:Image id="reloadImg" source="login_wenzi1" bottom="12" horizontalCenter="337" x="645" y="97" />\n	    </e:Group>\n	<e:Group left="0" right="0" bottom="21">\n		<e:Image id="version1" source="zjt4_png" horizontalCenter="0" scaleX="0.75" scaleY="0.75" top="0"/>\n		<e:Image id="version2" scaleX="0.8" scaleY="0.8" source="zjt8_png" horizontalCenter="0" y="23"/>\n	</e:Group>\n        </e:Skin>\n            ';return t.clazz=EXML.parse(i),t.skinName="loadingview",t.left=t.right=t.top=t.bottom=0,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.BgImg.source=Main.gameParameter.gameLoadImg?Main.gameParameter.gameLoadImg+"_png":"mp_jzjm_png",this.version1.visible=this.version2.visible=!0,10002==Main.gameParameter.pfID?this.version2.visible=!1:10007==Main.gameParameter.pfID||10008==Main.gameParameter.pfID?this.version1.visible=this.version2.visible=!1:10021==Main.gameParameter.pfID?this.version2.source="zjt8_png":(10041==Main.gameParameter.pfID||10039==Main.gameParameter.pfID||10046==Main.gameParameter.pfID)&&(this.version1.visible=!1,this.version2.source="zjt11_png"),window.isTraditional&&(this.BgImg.source="mp_jzjm2_png",this.reloadImg.source="login_wenzi4",this.firstLoadImg.source="login_wenzi5"),this.reloadImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reloadFunction,this)
},t.prototype.reloadFunction=function(){location.reload()},t.prototype.showLoadProgress=function(e,t){this.rect.width=(100-Number(e))/100*879,this.lodingDesc.text=t+"..."+e+"%"},t.prototype.removeView=function(){this.reloadImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.reloadFunction,this),this.parent&&this.parent.removeChild(this)},t}(eui.Component);e.MainLoadingView=t,__reflect(t.prototype,"app.MainLoadingView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='\n           <e:Skin class="MainLoginViewSkin" width="1344" height="840" xmlns:e="http://ns.egret.com/eui">\n	<e:Group width="1344" height="840" horizontalCenter="0" verticalCenter="0">\n		<e:Image id="gameLoginBg" horizontalCenter="0" verticalCenter="0" scaleX="1" scaleY="1" source="mp_xfjm_png"/>\n		<e:Image id="gameLogo" source="LOGO3_png" horizontalCenter="0" top="114" x="400" y="114" scaleX="1" scaleY="1"/>\n		<e:Group id="enterGrp" horizontalCenter="1" anchorOffsetY="0" height="193" touchEnabled="false" verticalCenter="160" x="480" y="520" scaleX="1" scaleY="1">\n			<e:Image source="login_bt_2" x="0"/>\n			<e:Image id="selectServerImg" source="login_bt_1" x="231" y="3"/>\n			<e:Image id="serverTypeImg" x="19.96" y="15.96" source="login_dian_1"/>\n			<e:Label id="serverName" text="获取区服列表……" textColor="0xe5ddcf" stroke="2" size="22" verticalCenter="-68" horizontalCenter="-65"/>\n			<e:Label id="serverSelect" text="区服选择" textColor="0xE5DDCF" stroke="2" size="22" verticalCenter="-68" horizontalCenter="117" touchEnabled="false"/>\n			<e:Button id="enterBtn" icon="login_jinru" horizontalCenter="0" bottom="0">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image id="iconDisplay" horizontalCenter="0" verticalCenter="0" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n			</e:Button>\n		</e:Group>\n		<e:Group id="serverGrp" horizontalCenter="0" verticalCenter="0" x="263" y="154" scaleX="1" scaleY="1" visible="false">\n			<e:Image source="login_bg3"/>\n			<e:Image id="serverSelectImg" source="login_xzqf" horizontalCenter="0" top="19"/>\n			<e:Scroller height="386" x="37" y="68" width="181">\n			<e:List id="btnList" x="26.67">\n				<e:layout>\n				<e:VerticalLayout gap="-3"/>\n				</e:layout>\n			</e:List>\n			</e:Scroller>\n			<e:Scroller width="527" height="368" x="243" y="79">\n			<e:List id="serverList">\n				<e:layout>\n				<e:TileLayout horizontalGap="1" requestedColumnCount="3"/>\n				</e:layout>\n			</e:List>\n			</e:Scroller>\n			<e:Button id="closeBtn" label="" y="24" right="21" scaleX="1.3" scaleY="1.3">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="Login_guanbi" source.down="Login_guanbi" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n			</e:Button>\n			<e:Image x="146" y="481" source="login_dian_1"/>\n			<e:Image x="345" y="481" source="login_dian_3"/>\n			<e:Image x="532" y="481" source="login_dian_2"/>\n			<e:Label id="serverTypeLab0" text="顺 畅" x="199" y="480" textColor="0x28ee01" size="23" stroke="2"/>\n			<e:Label id="serverTypeLab1" text="维 护" x="395" y="480" size="23" textColor="0x807b73" stroke="2"/>\n			<e:Label id="serverTypeLab2" text="爆 满" x="590" y="480" size="23" textColor="0xe50000" stroke="2"/>\n		</e:Group>\n        <e:Button id="gongGaoBtn" icon="main_gonggaoBtn_png" horizontalCenter="533" verticalCenter="-306" visible="false">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="main_gonggaoBtn_png" source.down="main_gonggaoBtn_png" source.disabled="main_gonggaoBtn_png" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n		</e:Button>\n	</e:Group>\n    <e:Image id="ageButton" visible="false" source="ageButton_png" right="20" bottom="20"/>\n</e:Skin>\n            ';return e.clazz=EXML.parse(i),e.skinName="MainLoginViewSkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.initUI=function(){this.enterGrp.visible=!0,this.serverGrp.visible=!1,this.ageButton.visible=10010==Main.gameParameter.pfID||10024==Main.gameParameter.pfID,this.gameLoginBg.source=Main.gameParameter.gameLoginImg?Main.gameParameter.gameLoginImg+"_png":"mp_xfjm_png",this.gameLogo.source=Main.gameParameter.gameLogo?Main.gameParameter.gameLogo+"_png":"",this.btnList.itemRenderer=e.ListButton,this.serverList.itemRenderer=e.ServerItem,this.selectServerImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickLeftList,this),this.serverList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickRightList,this),this.gongGaoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ageButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.gongGaoBtn.visible=Main.gameParameter.isShowGongGao?!0:!1,this.enterBtn.icon="login_jinru",10041==Main.gameParameter.pfID&&(this.enterGrp.verticalCenter=160),window.isTraditional&&(this.serverSelect.text="區服選擇",this.serverTypeLab0.text="順 暢",this.serverTypeLab1.text="維 護",this.serverTypeLab2.text="爆 滿",this.enterBtn.icon="login_jinru1",this.serverSelectImg.source="login_xzqf1"),Main.gameParameter.isAutoShowGongGao&&Main.showGongGaoView()},i.prototype.onClick=function(t){switch(t.currentTarget){case this.selectServerImg:this.serverGrp.visible=!0,this.enterGrp.visible=!1;break;case this.enterBtn:e.LocationProperty.Param=this.curServerData,e.GameSocket.ins().connectServer();var i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(Main.gameParameter.setServiceListdUrl+"?account="+e.LocationProperty.openID+"&srvid="+e.LocationProperty.originalSrvid,egret.HttpMethod.GET),i.send();break;case this.closeBtn:this.serverGrp.visible=!1,this.enterGrp.visible=!0;break;case this.gongGaoBtn:Main.showGongGaoView();break;case this.ageButton:Main.showAgeoView()}},i.prototype.updateInfo=function(t,i){this.btnList.selectedIndex=0,this.curServerData=i,this.curServerData.user=Main.gameParameter.userInfo.uid,this.curServerData.originalSrvid||(this.curServerData.originalSrvid=this.curServerData.srvid),e.LocationProperty.Param=this.curServerData,this.btnList.dataProvider=new eui.ArrayCollection(t);var r=this.btnList.dataProvider.getItemAt(this.btnList.selectedIndex);r&&r.serverlist&&(this.serverList.dataProvider=new eui.ArrayCollection(r.serverlist)),this.setServerName()},i.prototype.setNewServer=function(e){this.curServerData=e,this.setServerName()},i.prototype.onClickLeftList=function(e){var t=this.btnList.dataProvider.getItemAt(this.btnList.selectedIndex);t&&t.serverlist&&(this.serverList.dataProvider=new eui.ArrayCollection(t.serverlist))},i.prototype.onClickRightList=function(e){this.curServerData=e.item,this.curServerData.user=Main.gameParameter.userInfo.uid,this.curServerData.originalSrvid||(this.curServerData.originalSrvid=this.curServerData.srvid),this.setServerName(),this.serverGrp.visible=!1,this.enterGrp.visible=!0},i.prototype.setServerName=function(){this.curServerData&&(this.serverName.text=this.curServerData.serverName,this.serverTypeImg.source=4!=+this.curServerData.type?"login_dian_"+ +this.curServerData.type:"login_dian_1",e.ReportDataMgr.ins().reporting(e.ReportDataEnum.SELECT_SERVICE,{},null,!1))},i.prototype.removeView=function(){this.selectServerImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.enterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickLeftList,this),this.serverList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickRightList,this),this.gongGaoBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ageButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.MainLoginView=t,__reflect(t.prototype,"app.MainLoginView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='\n            <e:Skin class="mainNewServerSkin" xmlns:e="http://ns.egret.com/eui">\n            <e:Group top="0" left="0" bottom="0" right="0" />\n            <e:Group width="426" height="301" horizontalCenter="0" verticalCenter="0" >\n            <e:Image source="bg_tipstc2_png"/>\n            <e:Label size="24" stroke="2" touchEnabled="false" top="17" horizontalCenter="0" textColor="0xE5DDCF" text="提 示"/>\n            <e:Label text="该区服注册已关闭，是否前往最新区服体验？" lineSpacing="10" width="338" size="22" textColor="0xe5ddcf" horizontalCenter="0" verticalCenter="-18" textAlign="center"/>\n            <e:Button id="btnClose" label="确定" bottom="17" x="150" width="109" height="44">\n            <e:skinName>\n            <e:Skin states="up,down,disabled" xmlns:app="app.*">\n            <e:Image horizontalCenter="0" verticalCenter="0" source="tips_btn" source.down="tips_btn" source.disabled="tips_btn" scaleX.down="0.95" scaleY.down="0.95"/>\n            <e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0" size="20" textColor="0xf0c896" stroke="2"/>\n            </e:Skin>\n            </e:skinName>\n            </e:Button>\n            </e:Group>\n            </e:Skin>\n            ';return e.clazz=EXML.parse(i),e.skinName="mainNewServerSkin",e.verticalCenter=e.horizontalCenter=0,e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},i.prototype.onClick=function(){this.closeView()},i.prototype.closeView=function(){if(this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent)if(this.parent.removeChild(this),gamelib.DeviceUtils.IsMobile){var t=egret.getDefinitionByName("app.GameSocket");t&&(t.ins().isDoTimer=!1,t.ins().isAddGameApp=!1,t.ins().logoutClose()),Main.phoneLoginView.setNewServer(e.LocationProperty.recommendServer)}else if(window.selectServer){var t=egret.getDefinitionByName("app.GameSocket");t&&(t.ins().isDoTimer=!1,t.ins().isAddGameApp=!1,t.ins().logoutClose()),Main.phoneLoginView.setNewServer(e.LocationProperty.recommendServer)}else e.GameSocket.ins().switchConnectServer()},i}(eui.Component);e.MainNewServerView=t,__reflect(t.prototype,"app.MainNewServerView")}(app||(app={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n            <e:Skin class="mainStartServerTipsSkin" xmlns:e="http://ns.egret.com/eui">\n            <e:Rect id="rect" left="0" right="0" top="0" bottom="0" fillAlpha="0.3"/>\n            <e:Group width="426" height="301" horizontalCenter="0" verticalCenter="0" >\n            <e:Image source="bg_tipstc2_png"/>\n            <e:Label size="24" stroke="2" touchEnabled="false" top="17" horizontalCenter="0" textColor="0xE5DDCF" text="提 示"/>\n            <e:Label id="tipsLab" text="该区服注册已关闭，是否前往最新区服体验？" width="338" size="22" textColor="0xe5ddcf" horizontalCenter="0" verticalCenter="-18" textAlign="center"/>\n            </e:Group>\n            </e:Skin>\n            ';return t.clazz=EXML.parse(i),t.skinName="mainStartServerTipsSkin",t.left=t.right=t.top=t.bottom=0,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.setTipsLab=function(e){this.tipsLab.text=e},t.prototype.closeView=function(){this.parent&&this.parent.removeChild(this)},t}(eui.Component);e.MainStartServerTipsView=t,__reflect(t.prototype,"app.MainStartServerTipsView")}(app||(app={}));var app;!function(e){var t=function(){function e(){}return e.sortAsc=function(e,t){return t>e?-1:e>t?1:0},e.sortAscAttr=function(t,i,r){var n;if(void 0==r)n=e.sortAsc(t,i);else{var o=t[r],a=i[r];n=a>o?-1:o>a?1:0}return n},e.sortDesc=function(e,t){return e>t?-1:t>e?1:0},e.sortDescAttr=function(t,i,r){var n;if(void 0==r)n=e.sortDesc(t,i);else{var o=t[r],a=i[r];n=o>a?-1:a>o?1:0}return n},e.binSearch=function(t,i,r){if(void 0===r&&(r=null),!t||0==t.length)return 0;r||(r=e.sortAsc);for(var n=0,o=t.length-1;o>=n;){var a=o+n>>1,s=t[a];r(s,i)<=0?n=a+1:o=a-1}return n},e.test=function(){for(var t=[],i=10,r=0;i>r;r++){var n=Math.floor(1e5*Math.random()),o=e.binSearch(t,n);t.splice(o,0,n)}if(t.length!=i)for(var a=0,s=t;a<s.length;a++){s[a]}for(var r=0;r<t.length-1&&!(t[r]>t[r+1]);r++);},e}();e.Algorithm=t,__reflect(t.prototype,"app.Algorithm")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var i=t.call(this)||this;i._selectJob=0,i._selectSex=0,i.isAutoEnter=!1,i.roleData=null,i.roleTexture=null,i.mcName="",i.roleMcFactory=new egret.MovieClipDataFactory,e.ReportDataMgr.ins().reporting(e.ReportDataEnum.CREATE_ROLE_VIEW,{},null,!1);var r='\n            <e:Skin class="PhoneBtnCreate2Skin" states="up,down,disabled,selected" minHeight="25" minWidth="25"\n        xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing" height="100" width="73">\n         <e:Image id="iconDisplay" alpha.disabled="0.5" x.down="0.5" y.down="1" scaleX.down="0.55" scaleY.down="0.55"\n             pixelHitTest="true" source="login_nv_1" horizontalCenter.selected="0" verticalCenter="-10.5"\n             horizontalCenter="0" scaleX="0.6" scaleY="0.6" source.selected="login_zs_2" />\n          <e:Image id="selected" pixelHitTest="true" horizontalCenter="0" includeIn="selected" verticalCenter="-10.5"\n             scaleX="0.6" scaleY="0.6" source="" />\n           <e:Rect width="100%" height="100%" y="0" fillAlpha="0" strokeAlpha="0" fillColor="0xffffff" touchEnabled="true"\n            includeIn="disabled" />\n          <e:Label id="labelDisplay" text="战士" y="75.34" horizontalCenter="1" textColor.up="0xdfbd9e"\n             textColor.selected="0xd48129" size="20" stroke="2" bold="true" textColor="0xe5ddcf" />\n         <e:Image source="login_xuanzhong" width="81" height="80" x.disabled="-10.1" x.down="-10.1" x.up="-10.1"\n             y.disabled="-9.5" y.down="-9.5" y.up="-9.5" touchEnabled="false" visible.up="false" visible.down="false"\n             visible.disabled="false" scale9Grid="19,19,2,2" horizontalCenter="0" verticalCenter="-10"\n             horizontalCenter.selected="0" />\n           </e:Skin>\n            ';i.jobBtn=EXML.parse(r);var n='\n            <e:Skin class="PhoneCreateRole2Skin" xmlns:e="http://ns.egret.com/eui"   width="1344" height="750">\n	        <e:Rect width="100%" height="100%" fillAlpha="1"/>\n	        <e:Group id="group" width="1344" height="750" horizontalCenter="0" verticalCenter="0">\n            <e:Image id="bgImg" horizontalCenter="-1" verticalCenter="0" source="mp_login_bg_png"/>\n            <e:Label id="timeLab" text="" size="22" textColor="0x28ee01" x="530" y="677" width="300" textAlign="center"/>\n            <e:Group id="roleGrp" y="583.33" x="482" scaleX="0.9" scaleY="0.9"/>\n            <e:Group x="769" y="360">\n            <e:Button id="job1" label="战士" icon="login_zs_2" skinName="PhoneBtnCreate2Skin"/>\n            <e:Button id="job2" label="法师" icon="login_fs_2" skinName="PhoneBtnCreate2Skin" x="135" y="-1"/>\n            <e:Button id="job3" label="道士" icon="login_ds_2" skinName="PhoneBtnCreate2Skin" x="283" y="-1"/>\n            <e:layout>\n                <e:HorizontalLayout gap="4"/>\n            </e:layout>\n            </e:Group>\n            <e:Group x="802" y="501">\n            <e:Button id="boy" label="男" icon="login_nan_2" skinName="PhoneBtnCreate2Skin" x="2"/>\n            <e:Button id="girl" label="女" icon="login_nv_2" skinName="PhoneBtnCreate2Skin" x="149"/>\n            <e:layout>\n                <e:HorizontalLayout gap="8"/>\n            </e:layout>\n            </e:Group>\n            <e:Group x="577" y="651.67" width="208" height="90">\n            <e:Button id="createBtn"  icon="login_btn" x="0" scaleX="0.7" scaleY="0.7">\n                <e:skinName>\n                    <e:Skin states="up,down,disabled">\n                    <e:Image id="iconDisplay" horizontalCenter="0" verticalCenter="0" scaleX.down="0.98" scaleY.down="0.98"/>\n                    <e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n                    </e:Skin>\n                </e:skinName>\n            </e:Button>\n            </e:Group>\n            <e:Group id="createMcGrp" x="680" y="697" touchEnabled="false" touchChildren="false" touchThrough="false"/>\n            <e:Button id="diceBtn" icon="login_suiji"  x="974" y="265" scaleX="1.2" scaleY="1.2">\n                <e:skinName>\n                    <e:Skin states="up,down,disabled">\n                    <e:Image horizontalCenter="0" verticalCenter="0" source="login_suiji" source.down="login_suiji" scaleX.down="0.98" scaleY.down="0.98"/>\n                    <e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n                    </e:Skin>\n                </e:skinName>\n            </e:Button>\n            <e:EditableText id="nameInput" width="172" text="" x="793" y="272" size="24" textAlign="center" verticalAlign="middle"/>\n            </e:Group>\n            </e:Skin>\n             ';return i.clazz=EXML.parse(n),i.skinName="PhoneCreateRole2Skin",i.percentHeight=100,i.percentWidth=100,i.horizontalCenter=0,i.verticalCenter=0,i.job1.selected.source="login_zs_1",i.job2.selected.source="login_fs_1",i.job3.selected.source="login_ds_1",i.boy.selected.source="login_nan_1",i.girl.selected.source="login_nv_1",i}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI(),e.SoundManager.ins().playBg("chuangjian_mp3")},i.prototype.createBtnMC=function(){var e=(RES.getRes(ResDirEnum.RES_DIR+"create/create_anniu_json?v=7"),RES.getRes(ResDirEnum.RES_DIR+"create/create_anniu_png?v=7"),null),t=null,i=this,r=new egret.MovieClipDataFactory;this.createMc=new egret.MovieClip,this.createMc.touchEnabled=!1,this.createMcGrp.addChild(this.createMc);var n=function(){e&&t&&(r.clearCache(),r.mcDataSet=e,r.texture=t,i.createMc.movieClipData=r.generateMovieClipData("create_anniu"),i.createMc.gotoAndPlay(1,-1))};RES.getResByUrl(ResDirEnum.RES_DIR+"eff/create_anniu.json?v=7",function(t,i){t&&(e=t,n())},this,RES.ResourceItem.TYPE_JSON),RES.getResByUrl(ResDirEnum.RES_DIR+"eff/create_anniu.png?v=7",function(e,i){e&&(t=e,n())},this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.createRoleMC=function(e){this.mcName=e,this.roleData=null,this.roleTexture=null,RES.getResByUrl(ResDirEnum.RES_DIR+"create/"+this.mcName+".json?v=7",this.compFuncJson,this,RES.ResourceItem.TYPE_JSON),RES.getResByUrl(ResDirEnum.RES_DIR+"create/"+this.mcName+".png?v=7",this.compFuncPng,this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.compFuncJson=function(e,t){e&&t&&-1!=t.indexOf(this.mcName)&&(this.roleData=e,this.createBody())},i.prototype.compFuncPng=function(e,t){e&&t&&-1!=t.indexOf(this.mcName)&&(this.roleTexture=e,this.createBody())},i.prototype.createBody=function(){this.roleData&&this.roleTexture&&(this.roleMcFactory.mcDataSet=this.roleData,this.roleMcFactory.texture=this.roleTexture,this.roleMc.movieClipData=this.roleMcFactory.generateMovieClipData(this.mcName),this.roleMc.gotoAndPlay(1,-1))},i.prototype.initUI=function(){this.createBtn.icon="login_btn",this.selectJob=1,this.selectSex=0,this.roleMc=new egret.MovieClip,this.roleMc.touchEnabled=!1,this.roleMc.scaleX=this.roleMc.scaleY=1.4,this.roleGrp.addChild(this.roleMc),this.createBtnMC(),this.job1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.boy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.girl.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.diceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var t=e.LocationProperty.nickName;"null"==t||""==t?e.GameSocket.ins().s_255_6(this._selectSex):this.setName(t),this.nameInput.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.nameInput.maxChars=7},i.prototype.close=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.job1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.job3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.boy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.girl.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.diceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.nameInput.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.createMc&&(this.createMc.stop(),this.createMc=null),this.roleMc=null,this.parent&&this.parent.removeChild(this),e.GameSocket.ins().isNewRole=!0},i.prototype.qqHallSendCreate=function(t){1==t.type&&(0==t.isLegal?e.GameSocket.ins().s_255_4(t.Msg,"",0,this.curSex(),this.curJob()):Main.showTipsPhone&&Main.showTipsPhone("输入的文字不合法"))},i.prototype.sendCreateRole=function(){var t=this.nameInput.text.replace(/\s/g,"");if(t.length){this.nameInput.text;10006==Main.gameParameter.pfID?this.qqHallTextFiltering(this.nameInput.text,1):e.GameSocket.ins().s_255_4(this.nameInput.text,"",0,this.curSex(),this.curJob())}else Main.showTipsPhone&&Main.showTipsPhone("角色名不能为空！")},i.prototype.qqHallTextFiltering=function(e,t){var i="openid="+Main.gameParameter.userInfo.openid+"&openkey="+Main.gameParameter.userInfo.openkey+"&pf="+Main.gameParameter.userInfo.pf+"&format=&msg="+e+"&type="+t,r=new XMLHttpRequest,n=this;r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=JSON.parse(r.responseText);e&&0==e.ret?n.qqHallSendCreate({isLegal:e.text_result_list_[0].check_ret_,type:t,Msg:e.text_result_list_[0].result_text_}):Main.showTipsPhone&&Main.showTipsPhone("输入的文字不合法")}},r.open("GET",window.textFiltering+i,!0),r.send(null)},i.prototype.onClick=function(t){switch(e.SoundUtil.ins().playMonster("anniu2_mp3"),t.currentTarget){case this.createBtn:this.sendCreateRole();break;case this.diceBtn:e.GameSocket.ins().s_255_6(this._selectSex);case this.nameInput:break;case this.boy:this.selectSex=0;break;case this.girl:this.selectSex=1;break;case this.job1:this.selectJob=1;break;case this.job2:this.selectJob=2;break;case this.job3:this.selectJob=3}},Object.defineProperty(i.prototype,"selectJob",{set:function(e){this._selectJob=e,this.updateRole()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectSex",{set:function(e){this._selectSex=e,this.updateRole()},enumerable:!0,configurable:!0}),i.prototype.updateRole=function(){var e=this.curJob(),t=this.curSex();this.createRoleMC("create_"+e+"_"+t);for(var i=1;3>=i;i++)this["job"+i].currentState="up";this["job"+e].currentState="selected",0==t?(this.boy.currentState="selected",this.girl.currentState="up"):(this.girl.currentState="selected",this.boy.currentState="up")},i.prototype.setName=function(e){this.nameInput.text=e,this.isAutoEnter&&this.sendCreateRole()},i.prototype.curJob=function(){return this._selectJob},i.prototype.curSex=function(){return this._selectSex},i}(eui.Component);e.PhoneCreateRoleView=t,__reflect(t.prototype,"app.PhoneCreateRoleView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='\n      <e:Skin class="PhoneLoading2Skin" width="1344" height="750" xmlns:e="http://ns.egret.com/eui">\n      <e:Group horizontalCenter="0" verticalCenter="0" width="1344" height="750">\n      <e:Image id="BgImg" horizontalCenter="0" verticalCenter="0" source="mp_jzjm_png"/>\n	    <e:Group id="loadGrp" width="919" height="136" bottom="90" horizontalCenter="0.5" touchEnabled="false">\n		<e:Image source="login_jdt_t" bottom="45" horizontalCenter="0" scaleX="0.7" scaleY="0.7" x="16" y="79"/>\n		<e:Rect id="rect" width="879" height="14" fillColor="0x140500" bottom="45" y="78" right="20"/>\n		<e:Image source="login_jdt_k" bottom="39" horizontalCenter="0" scaleX="0.7" scaleY="0.7" x="11" y="75"/>\n		<e:Label id="lodingDesc" text="正在进入游戏" bottom="9" horizontalCenter="0" size="27" textColor="0xe5ddcf" stroke="2" x="378" y="101" />\n		<e:Image id="firstLoadImg" source="login_wenzi3" bottom="68" horizontalCenter="0" x="25" y="3" />\n		<e:Image id="reloadImg" source="login_wenzi1" bottom="12" horizontalCenter="337" x="645" y="97" />\n	    </e:Group>\n        <e:Image id="version1" source="zjt4_png" bottom="53" scaleX="0.75" scaleY="0.75" horizontalCenter="0" visible="false"/>\n        <e:Image id="version2" bottom="7" scaleX="0.75" scaleY="0.75" horizontalCenter="0" source="zjt11_png" visible="false"/>\n      </e:Group>\n      </e:Skin>\n            ';return e.clazz=EXML.parse(i),e.skinName="PhoneLoading2Skin",e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.BgImg.source=Main.gameParameter.gameLoadImg?Main.gameParameter.gameLoadImg+"_png":"mp_jzjm_png",e.SoundManager.ins().stopBg(),this.version1.visible=!1,this.version2.visible=!0,10002==Main.gameParameter.pfID?this.version2.visible=!1:(10007==Main.gameParameter.pfID||10008==Main.gameParameter.pfID||10035==Main.gameParameter.pfID)&&(this.version1.visible=this.version2.visible=!1),window.isTraditional&&(this.BgImg.source="mp_jzjm2_png",this.reloadImg.source="login_wenzi4",this.firstLoadImg.source="login_wenzi5"),this.reloadImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reloadFunction,this)},i.prototype.reloadFunction=function(){location.reload()},i.prototype.showLoadProgress=function(e,t){this.rect.width=(100-Number(e))/100*879,this.lodingDesc.text=t+"..."+e+"%"},i.prototype.removeView=function(){this.reloadImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.reloadFunction,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.PhoneLoadingView=t,__reflect(t.prototype,"app.PhoneLoadingView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this;e.httpNum=0;var i='<e:Skin class="PhoneLoginView2Skin" width="1334" height="750" xmlns:e="http://ns.egret.com/eui">\n        <e:Group width="1334" height="750" horizontalCenter="0" verticalCenter="0">\n		<e:Image id="gameLoginBg" x="0" y="0" scaleX="1" scaleY="1" source="mp_xfjm_png"/>\n		<e:Image id="gameLogo" source="LOGO3_png" horizontalCenter="0" top="114" x="400" y="114" scaleX="1" scaleY="1"/>\n		<e:Group id="enterGrp" horizontalCenter="1" anchorOffsetY="0" height="193" touchEnabled="false" verticalCenter="160" x="480" y="520" scaleX="1" scaleY="1">\n			<e:Image source="login_bt_2" x="0"/>\n			<e:Image id="selectServerImg" source="login_bt_1" x="231" y="3"/>\n			<e:Image id="serverTypeImg" x="19.96" y="15.96" source="login_dian_1"/>\n			<e:Label id="serverName" text="获取区服列表……" textColor="0xe5ddcf" stroke="2" size="22" verticalCenter="-68" horizontalCenter="-65"/>\n			<e:Label id="serverSelect" text="区服选择" textColor="0xE5DDCF" stroke="2" size="22" verticalCenter="-68" horizontalCenter="117" touchEnabled="false"/>\n			<e:Button id="enterBtn" icon="login_jinru" horizontalCenter="0" bottom="0">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image id="iconDisplay" horizontalCenter="0" verticalCenter="0" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n			</e:Button>\n		</e:Group>\n        <e:Group id="privacyGrp" y="617" horizontalCenter="0">\n			<e:CheckBox id="userPrivacy" label="CheckBox" skinName="CheckBox2"/>\n			<e:Label text="已详细阅读并同意" size="20" scaleX="1" scaleY="1" textColor="0xe5ddcf"/>\n			<e:Label id="userLab" text="用户协议" x="160" y="10" size="20" textColor="0x00ff1e"/>\n			<e:Label text="和" x="170" y="20" size="20" textColor="0xe5ddcf"/>\n			<e:Label id="privacyLab" text="隐私政策" x="180" y="30" size="20" textColor="0x00ff1e"/>\n			<e:layout>\n				<e:HorizontalLayout horizontalAlign="center" verticalAlign="middle" gap="1"/>\n			</e:layout>\n		</e:Group>\n		<e:Group id="serverGrp" horizontalCenter="0" verticalCenter="0" x="263" y="135" scaleX="1" scaleY="1" visible="false">\n			<e:Image source="login_bg3"/>\n			<e:Image id="serverSelectImg" source="login_xzqf" horizontalCenter="0" top="19"/>\n			<e:Scroller height="386" x="37" y="68" width="181">\n			<e:List id="btnList" x="26.67">\n				<e:layout>\n				<e:VerticalLayout gap="-3"/>\n				</e:layout>\n			</e:List>\n			</e:Scroller>\n			<e:Scroller width="527" height="368" x="243" y="79">\n			<e:List id="serverList">\n				<e:layout>\n				<e:TileLayout horizontalGap="1" requestedColumnCount="3"/>\n				</e:layout>\n			</e:List>\n			</e:Scroller>\n			<e:Button id="closeBtn" label="" y="24" right="21" scaleX="1.3" scaleY="1.3">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="Login_guanbi" source.down="Login_guanbi" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n			</e:Button>\n			<e:Image x="146" y="481" source="login_dian_1"/>\n			<e:Image x="345" y="481" source="login_dian_3"/>\n			<e:Image x="532" y="481" source="login_dian_2"/>\n			<e:Label id="serverTypeLab0" text="顺 畅" x="199" y="480" textColor="0x28ee01" size="23" stroke="2"/>\n			<e:Label id="serverTypeLab1" text="维 护" x="395" y="480" size="23" textColor="0x807b73" stroke="2"/>\n			<e:Label id="serverTypeLab2" text="爆 满" x="590" y="480" size="23" textColor="0xe50000" stroke="2"/>\n		</e:Group>\n         <e:Button id="gongGaoBtn" icon="main_gonggaoBtn_png" horizontalCenter="533" verticalCenter="-306" visible="false">\n			<e:skinName>\n				<e:Skin states="up,down,disabled">\n				<e:Image horizontalCenter="0" verticalCenter="0" source="main_gonggaoBtn_png" source.down="main_gonggaoBtn_png" source.disabled="main_gonggaoBtn_png" scaleY.down="0.98" scaleX.down="0.98"/>\n				<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n				</e:Skin>\n			</e:skinName>\n		</e:Button>\n        <e:Group id="switchAccountGrp" touchChildren="false" top="116" left="109" visible="false">\n				<e:Image scaleX="1" scaleY="1" source="login_bt_1"/>\n				<e:Label text="切换账号" size="22" horizontalCenter="0" verticalCenter="0" textColor="0xe5ddcf" stroke="1"/>\n		</e:Group>\n		<e:Label id="versionLab"  size="23" touchEnabled="false" textColor="0xedd7a3" lineSpacing="10" top="45" left="109"/>\n        <e:Group  id="shuangbeiGrp" horizontalCenter="0" bottom="9" visible="false">\n			<e:Image id="version1" scaleX="0.7" scaleY="0.7" horizontalCenter="0" source="zjt4_png"/>\n			<e:Image id="version2" y="25" scaleX="0.7" scaleY="0.7" source="zjt8_png" horizontalCenter="0"/>\n		</e:Group>\n	</e:Group>\n    <e:Image id="ageButton" visible="false" source="ageButton_png" right="20" bottom="20"/>\n</e:Skin>';return e.clazz=EXML.parse(i),e.skinName="PhoneLoginView2Skin",e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.initUI=function(){if(this.privacyGrp.visible=this.shuangbeiGrp.visible=this.switchAccountGrp.visible=!1,gamelib.DeviceUtils.IsNative?e.SoundManager.ins().playBg("xuanze_mp3"):gamelib.DeviceUtils.IsIOS?egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stageClick,this):e.SoundManager.ins().playBg("xuanze_mp3"),e.ReportDataMgr.ins().reporting(e.ReportDataEnum.SELECT_SERVICE,{},null,!1),this.ageButton.visible=!0,this.enterGrp.visible=!0,this.serverGrp.visible=!1,this.gameLoginBg.source=Main.gameParameter.gameLoginImg?Main.gameParameter.gameLoginImg+"_png":"mp_xfjm_png",this.gameLogo.source=Main.gameParameter.gameLogo?Main.gameParameter.gameLogo+"_png":"",this.btnList.itemRenderer=e.ListButton,this.serverList.itemRenderer=e.ServerItem,this.gongGaoBtn.visible=Main.gameParameter.isShowGongGao?!0:!1,this.selectServerImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickLeftList,this),this.serverList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickRightList,this),this.gongGaoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ageButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.userLab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.privacyLab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.userPrivacy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.switchAccountGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.enterBtn.icon="login_jinru",window.isTraditional&&(this.serverSelect.text="區服選擇",this.serverTypeLab0.text="順 暢",this.serverTypeLab1.text="維 護",this.serverTypeLab2.text="爆 滿",this.enterBtn.icon="login_jinru1",this.serverSelectImg.source="login_xzqf1"),Main.gameParameter.isAutoShowGongGao&&Main.showGongGaoView(),10035==Main.gameParameter.pfID){this.gameLogo.top=94,this.enterGrp.verticalCenter=137,this.privacyGrp.visible=this.shuangbeiGrp.visible=!0,this.version2.visible=!1,this.version1.source="zjt10_png ";
var t=egret.localStorage.getItem("userCheckBox");t&&"1"==t?this.userPrivacy.selected=!0:this.userPrivacy.selected=!1}var i="";Main.gameParameter.gameVersion&&""!=Main.gameParameter.gameVersion&&(i="应用版本:v"+Main.gameParameter.gameVersion),Main.gameParameter.gameAppVersion&&""!=Main.gameParameter.gameAppVersion&&(i+="\n游戏版本:v"+Main.gameParameter.gameAppVersion),this.versionLab.text=i},i.prototype.stageClick=function(){e.SoundUtil.ins().playMonster("anniu2_mp3"),e.SoundManager.ins().playBg("xuanze_mp3")},i.prototype.onClick=function(t){switch(t.currentTarget){case this.selectServerImg:e.SoundUtil.ins().playMonster("anniu2_mp3"),this.serverGrp.visible=!0,this.enterGrp.visible=!1;break;case this.enterBtn:if(10035==Main.gameParameter.pfID){var i=egret.localStorage.getItem("userCheckBox");if(!i||"0"==i)return void Main.showTipsPhone("请先勾选用户协议和隐私政策")}if(e.SoundUtil.ins().playMonster("anniu2_mp3"),this.curServerData){e.LocationProperty.Param=this.curServerData,e.GameSocket.ins().connectServer();var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(Main.gameParameter.setServiceListdUrl+"?account="+e.LocationProperty.openID+"&srvid="+e.LocationProperty.originalSrvid,egret.HttpMethod.GET),r.send()}break;case this.closeBtn:e.SoundUtil.ins().playMonster("anniu2_mp3"),this.serverGrp.visible=!1,this.enterGrp.visible=!0;break;case this.gongGaoBtn:e.SoundUtil.ins().playMonster("anniu2_mp3"),Main.showGongGaoView();break;case this.ageButton:e.SoundUtil.ins().playMonster("anniu2_mp3"),Main.showAgeoView();break;case this.userLab:Main.Native_openURL("http://www.bigrnet.com/tiejiazs.html");break;case this.privacyLab:Main.Native_openURL("http://www.bigrnet.com/tiejiazs.html");break;case this.userPrivacy:egret.localStorage.setItem("userCheckBox",this.userPrivacy.selected?"1":"0");break;case this.switchAccountGrp:Main.Native_honghuSwitchAccount("1")}},i.prototype.updateInfo=function(e,t){this.btnList.selectedIndex=0,this.curServerData=t,this.curServerData.user=Main.gameParameter.userInfo.uid,this.curServerData.originalSrvid||(this.curServerData.originalSrvid=this.curServerData.srvid),this.btnList.dataProvider=new eui.ArrayCollection(e);var i=this.btnList.dataProvider.getItemAt(this.btnList.selectedIndex);i&&i.serverlist&&(this.serverList.dataProvider=new eui.ArrayCollection(i.serverlist.reverse())),this.setServerName()},i.prototype.onClickLeftList=function(t){e.SoundUtil.ins().playMonster("anniu2_mp3");var i=this.btnList.dataProvider.getItemAt(this.btnList.selectedIndex);i&&i.serverlist&&(this.serverList.dataProvider=new eui.ArrayCollection(i.serverlist.slice().reverse()))},i.prototype.onClickRightList=function(t){e.SoundUtil.ins().playMonster("anniu2_mp3"),this.curServerData=t.item,this.curServerData.user=Main.gameParameter.userInfo.uid,this.curServerData.originalSrvid||(this.curServerData.originalSrvid=this.curServerData.srvid),e.LocationProperty.Param=this.curServerData,this.setServerName(),this.serverGrp.visible=!1,this.enterGrp.visible=!0},i.prototype.setSwitchAccount=function(){this.switchAccountGrp.visible=!0,console.log("红狐切换账号")},i.prototype.setServerName=function(){this.curServerData&&(this.curServerData.isNew?this.serverName.textFlow=[{text:"  "+this.curServerData.serverName},{text:"(新)",style:{textColor:2682369}}]:this.serverName.text=this.curServerData.serverName,this.serverTypeImg.source=4!=+this.curServerData.type?"login_dian_"+ +this.curServerData.type:"login_dian_1",e.ReportDataMgr.ins().reporting(e.ReportDataEnum.SELECT_SERVICE,{},null,!1))},i.prototype.setNewServer=function(e){this.curServerData=e,this.setServerName()},i.prototype.removeView=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stageClick,this),this.selectServerImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.enterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickLeftList,this),this.serverList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickRightList,this),this.gongGaoBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ageButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.userLab.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.privacyLab.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.userPrivacy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.switchAccountGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.PhoneLoginView=t,__reflect(t.prototype,"app.PhoneLoginView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='<e:Skin class="PhoneMainLoginSkin" width="1334" height="750" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing">\n					<e:Image id="bgImg" source="mp_xfjm_png" horizontalCenter="0" verticalCenter="0"/>\n					<e:Rect id="rect" width="300" height="30" y="372" horizontalCenter="0" fillColor="0xffffff"/>\n					<e:EditableText id="input" width="300" restrict = "a-z0-9" text="" y="372" maxChars="10" height="30" horizontalCenter="0" backgroundColor="0xffffff" borderColor="0xf2f9f9" promptColor="0x000000" textColor="0x000000" strokeColor="0xfcf7f7" background="true"  prompt="user"/>\n					<e:Button id="signInButton"  width="143" height="62" icon="mp_login_btn2_png" bottom="274" horizontalCenter="0.5">\n						<e:skinName>\n							<e:Skin states="up,down,disabled">\n						<e:Image id="iconDisplay"  verticalCenter="0" horizontalCenter="0" scaleX.down="0.9" scaleY.down="0.9"/>\n							</e:Skin>\n						</e:skinName>\n					</e:Button>\n				</e:Skin>';return EXML.parse(i),e.skinName="PhoneMainLoginSkin",e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.initUI=function(){if(this.bgImg.source=Main.gameParameter.gameLoadImg?Main.gameParameter.gameLoadImg+"_png":"mp_xfjm_png",gamelib.DeviceUtils.IsIOS?egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this):e.SoundManager.ins().playBg("xuanze_mp3"),Main.gameParameter.loginType)this.rect.visible=!1,this.input.visible=!1,this.signInButton.visible=!1,this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this);else{egret.ExternalInterface.call("hideLoadingView",""),this.signInButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var t=egret.localStorage.getItem("signInUID");t&&t.length&&(this.input.text=t)}this.signInButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},i.prototype.onEnterFrame=function(){console.log("main:手机测试版本 PhoneMainLoginView"),this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),Main.Native_onClickLogin({}),10003!=Main.gameParameter.pfID&&10010!=Main.gameParameter.pfID&&10011!=Main.gameParameter.pfID&&10012!=Main.gameParameter.pfID&&10024!=Main.gameParameter.pfID&&10025!=Main.gameParameter.pfID&&10029!=Main.gameParameter.pfID&&10038!=Main.gameParameter.pfID&&10039!=Main.gameParameter.pfID&&(this.signInButton.visible=!0)},i.prototype.onClick=function(){Main.gameParameter.loginType?Main.Native_onClickLogin({}):this.input.text.length&&(egret.localStorage.setItem("signInUID",this.input.text),Main.Native_onClickLogin({uid:this.input.text}))},i.prototype.stageClick=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),e.SoundManager.ins().playBg("xuanze_mp3")},i.prototype.removeView=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),this.signInButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.PhoneMainLoginView=t,__reflect(t.prototype,"app.PhoneMainLoginView")}(app||(app={}));var app;!function(e){var t=function(){function t(){this.httpNum=0,this.serverArr=[],this.leftStrArr=[]}return t.prototype.getServerInfo=function(){this.httpReq&&(this.httpReq.removeEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceErr,this)),this.httpReq=new egret.HttpRequest,this.httpReq.addEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.addEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceErr,this),this.httpReq.open(Main.gameParameter.serviceListdUrl+"?account="+Main.gameParameter.userInfo.uid+"&pf="+Main.gameParameter.pf+"&t="+egret.getTimer(),egret.HttpMethod.GET),this.httpReq.send(),this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this)),this.timer=new egret.Timer(5e3,1),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.httpNum+=1},t.prototype.timerComFunc=function(){Main&&Main.showTipsPhone&&Main.showTipsPhone("正在拉取服务器"),this.getServerInfo()},t.prototype.getServiceComp=function(i){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.GET_SERVER_LIST,{result:1},null,!1),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.httpNum=0,this.serverArr=[],this.leftStrArr=[];var r=i.target;if(null==r.response||0==r.response||""==r.response)return void(Main&&Main.showTipsPhone&&Main.showTipsPhone("暂无服务器！"));var n={};try{n=JSON.parse(r.response)}catch(o){alert("服务器请求超时，请退出游戏重新打开！")}var a=0;n.serverlist&&(a=n.serverlist.length);for(var s,l=a-1;l>=0;l--)if(s=n.serverlist[l],s.serverlist)for(var h=s.serverlist.length-1;h>=0;h--){e.LocationProperty.newestServer=s.serverlist[h],e.LocationProperty.newestServer.user=Main.gameParameter.userInfo.uid,e.LocationProperty.newestServer.originalSrvid||(e.LocationProperty.newestServer.originalSrvid=e.LocationProperty.newestServer.srvid);break}for(var c=[],p=[],g=[],l=0;a>l;l++)if(s=n.serverlist[l],s.serverlist&&s.serverlist.length>0&&(c.push(s),n.login&&n.login.length>0))for(var h=0;h<s.serverlist.length;h++)-1!=n.login.indexOf(s.serverlist[h].originalSrvid+"")&&(p[s.serverlist[h].originalSrvid+""]=s.serverlist[h]);if(c.length>0){var u=null,m=c[c.length-1].serverlist;if(m&&m.length&&(m[m.length-1].isNew=!0,u=[t.copyDataHandler(m[m.length-1])],e.LocationProperty.recommendServer=t.copyDataHandler(u[0])),n.login&&n.login.length>0)for(var l=0;l<n.login.length;l++)p[n.login[l]]&&g.push(p[n.login[l]]);if(g.length>0)Main.phoneLoginView.updateInfo(c,g[0]),g=g.reverse(),c=c.reverse(),c.unshift({name:"最近登录",serverlist:g}),u&&c.unshift({name:"推荐新服",serverlist:u});else{for(var d=null,l=a-1;l>=0;l--){s=n.serverlist[l];for(var f=s.serverlist.length-1;f>=0;f--)if(3!=s.serverlist[f].type||4!=s.serverlist[f].type){d=s.serverlist[f];break}if(d)break}d&&(c=c.reverse(),u&&c.unshift({name:"推荐新服",serverlist:u}),Main.phoneLoginView.updateInfo(c,d))}}else 10010==Main.gameParameter.pfID&&Main.startServerTips("【先遣1服】将于8月19日14点正式开服，敬请期待。")},t.copyDataHandler=function(e){var t;if(e instanceof Array)t=[];else{if(!(e instanceof Object))return e;t={}}for(var i=Object.keys(e),r=0,n=i.length;n>r;r++){var o=i[r];t[o]=this.copyDataHandler(e[o])}return t},t.prototype.getServiceErr=function(){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.GET_SERVER_LIST,{result:0},null,!1)},t.prototype.onClickRightList=function(e){this.selectSerInfo=e.item,this.selectSerInfo&&window.selectInfo(this.selectSerInfo)},t.prototype.onButtonClick=function(){return null==this.selectSerInfo?void(Main&&Main.showTipsPhone&&Main.showTipsPhone("请选择服务器！")):void window.onClickLogin(this.selectSerInfo)},t}();e.PhoneServerListInfo=t,__reflect(t.prototype,"app.PhoneServerListInfo")}(app||(app={}));var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},md5=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),i)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var i=this.rstr2binl(e);i.length>16&&(i=this.binl_md5(i,8*e.length));for(var r=Array(16),n=Array(16),o=0;16>o;o++)r[o]=909522486^i[o],n[o]=1549556828^i[o];var a=this.binl_md5(r.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(n.concat(a),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(t){this.hexcase=0}for(var i,r=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;o<e.length;o++)i=e.charCodeAt(o),n+=r.charAt(i>>>4&15)+r.charAt(15&i);return n},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(t){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n=e.length,o=0;n>o;o+=3)for(var a=e.charCodeAt(o)<<16|(n>o+1?e.charCodeAt(o+1)<<8:0)|(n>o+2?e.charCodeAt(o+2):0),s=0;4>s;s++)r+=8*o+6*s>8*e.length?this.b64pad:i.charAt(a>>>6*(3-s)&63);return r},e.prototype.rstr2any=function(e,t){var i,r,n,o,a,s=t.length,l=Array(Math.ceil(e.length/2));for(i=0;i<l.length;i++)l[i]=e.charCodeAt(2*i)<<8|e.charCodeAt(2*i+1);var h=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),c=Array(h);for(r=0;h>r;r++){for(a=Array(),o=0,i=0;i<l.length;i++)o=(o<<16)+l[i],n=Math.floor(o/s),o-=n*s,(a.length>0||n>0)&&(a[a.length]=n);c[r]=o,l=a}var p="";for(i=c.length-1;i>=0;i--)p+=t.charAt(c[i]);return p},e.prototype.str2rstr_utf8=function(e){for(var t,i,r="",n=-1;++n<e.length;)t=e.charCodeAt(n),i=n+1<e.length?e.charCodeAt(n+1):0,t>=55296&&56319>=t&&i>=56320&&57343>=i&&(t=65536+((1023&t)<<10)+(1023&i),n++),127>=t?r+=String.fromCharCode(t):2047>=t?r+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r},e.prototype.str2rstr_utf16le=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(255&e.charCodeAt(i),e.charCodeAt(i)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e.charCodeAt(i)>>>8&255,255&e.charCodeAt(i));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t},e.prototype.binl2rstr=function(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,r=-271733879,n=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=i,l=r,h=n,c=o;i=this.md5_ff(i,r,n,o,e[a+0],7,-680876936),o=this.md5_ff(o,i,r,n,e[a+1],12,-389564586),n=this.md5_ff(n,o,i,r,e[a+2],17,606105819),r=this.md5_ff(r,n,o,i,e[a+3],22,-1044525330),i=this.md5_ff(i,r,n,o,e[a+4],7,-176418897),o=this.md5_ff(o,i,r,n,e[a+5],12,1200080426),n=this.md5_ff(n,o,i,r,e[a+6],17,-1473231341),r=this.md5_ff(r,n,o,i,e[a+7],22,-45705983),i=this.md5_ff(i,r,n,o,e[a+8],7,1770035416),o=this.md5_ff(o,i,r,n,e[a+9],12,-1958414417),n=this.md5_ff(n,o,i,r,e[a+10],17,-42063),r=this.md5_ff(r,n,o,i,e[a+11],22,-1990404162),i=this.md5_ff(i,r,n,o,e[a+12],7,1804603682),o=this.md5_ff(o,i,r,n,e[a+13],12,-40341101),n=this.md5_ff(n,o,i,r,e[a+14],17,-1502002290),r=this.md5_ff(r,n,o,i,e[a+15],22,1236535329),i=this.md5_gg(i,r,n,o,e[a+1],5,-165796510),o=this.md5_gg(o,i,r,n,e[a+6],9,-1069501632),n=this.md5_gg(n,o,i,r,e[a+11],14,643717713),r=this.md5_gg(r,n,o,i,e[a+0],20,-373897302),i=this.md5_gg(i,r,n,o,e[a+5],5,-701558691),o=this.md5_gg(o,i,r,n,e[a+10],9,38016083),n=this.md5_gg(n,o,i,r,e[a+15],14,-660478335),r=this.md5_gg(r,n,o,i,e[a+4],20,-405537848),i=this.md5_gg(i,r,n,o,e[a+9],5,568446438),o=this.md5_gg(o,i,r,n,e[a+14],9,-1019803690),n=this.md5_gg(n,o,i,r,e[a+3],14,-187363961),r=this.md5_gg(r,n,o,i,e[a+8],20,1163531501),i=this.md5_gg(i,r,n,o,e[a+13],5,-1444681467),o=this.md5_gg(o,i,r,n,e[a+2],9,-51403784),n=this.md5_gg(n,o,i,r,e[a+7],14,1735328473),r=this.md5_gg(r,n,o,i,e[a+12],20,-1926607734),i=this.md5_hh(i,r,n,o,e[a+5],4,-378558),o=this.md5_hh(o,i,r,n,e[a+8],11,-2022574463),n=this.md5_hh(n,o,i,r,e[a+11],16,1839030562),r=this.md5_hh(r,n,o,i,e[a+14],23,-35309556),i=this.md5_hh(i,r,n,o,e[a+1],4,-1530992060),o=this.md5_hh(o,i,r,n,e[a+4],11,1272893353),n=this.md5_hh(n,o,i,r,e[a+7],16,-155497632),r=this.md5_hh(r,n,o,i,e[a+10],23,-1094730640),i=this.md5_hh(i,r,n,o,e[a+13],4,681279174),o=this.md5_hh(o,i,r,n,e[a+0],11,-358537222),n=this.md5_hh(n,o,i,r,e[a+3],16,-722521979),r=this.md5_hh(r,n,o,i,e[a+6],23,76029189),i=this.md5_hh(i,r,n,o,e[a+9],4,-640364487),o=this.md5_hh(o,i,r,n,e[a+12],11,-421815835),n=this.md5_hh(n,o,i,r,e[a+15],16,530742520),r=this.md5_hh(r,n,o,i,e[a+2],23,-995338651),i=this.md5_ii(i,r,n,o,e[a+0],6,-198630844),o=this.md5_ii(o,i,r,n,e[a+7],10,1126891415),n=this.md5_ii(n,o,i,r,e[a+14],15,-1416354905),r=this.md5_ii(r,n,o,i,e[a+5],21,-57434055),i=this.md5_ii(i,r,n,o,e[a+12],6,1700485571),o=this.md5_ii(o,i,r,n,e[a+3],10,-1894986606),n=this.md5_ii(n,o,i,r,e[a+10],15,-1051523),r=this.md5_ii(r,n,o,i,e[a+1],21,-2054922799),i=this.md5_ii(i,r,n,o,e[a+8],6,1873313359),o=this.md5_ii(o,i,r,n,e[a+15],10,-30611744),n=this.md5_ii(n,o,i,r,e[a+6],15,-1560198380),r=this.md5_ii(r,n,o,i,e[a+13],21,1309151649),i=this.md5_ii(i,r,n,o,e[a+4],6,-145523070),o=this.md5_ii(o,i,r,n,e[a+11],10,-1120210379),n=this.md5_ii(n,o,i,r,e[a+2],15,718787259),r=this.md5_ii(r,n,o,i,e[a+9],21,-343485551),i=this.safe_add(i,s),r=this.safe_add(r,l),n=this.safe_add(n,h),o=this.safe_add(o,c)}return[i,r,n,o]},e.prototype.md5_cmn=function(e,t,i,r,n,o){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(r,o)),n),i)},e.prototype.md5_ff=function(e,t,i,r,n,o,a){return this.md5_cmn(t&i|~t&r,e,t,n,o,a)},e.prototype.md5_gg=function(e,t,i,r,n,o,a){return this.md5_cmn(t&r|i&~r,e,t,n,o,a)},e.prototype.md5_hh=function(e,t,i,r,n,o,a){return this.md5_cmn(t^i^r,e,t,n,o,a)},e.prototype.md5_ii=function(e,t,i,r,n,o,a){return this.md5_cmn(i^(t|~r),e,t,n,o,a)},e.prototype.safe_add=function(e,t){var i=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(i>>16);return r<<16|65535&i},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();__reflect(md5.prototype,"md5");var app;!function(e){function t(e,t){return void 0===t&&(t=1),e>=10?e.toString():0==t?e.toString():"0"+e}var i;!function(e){e[e.LOGIN_VIEW=1]="LOGIN_VIEW",e[e.SELECT_SERVICE=2]="SELECT_SERVICE",e[e.CLICK_LOGIN=3]="CLICK_LOGIN",e[e.LOGIN_SUCCESS=4]="LOGIN_SUCCESS",e[e.LINK_SERVER=5]="LINK_SERVER",e[e.LINK_SERVER_SUCCESS=6]="LINK_SERVER_SUCCESS",e[e.LINK_SERVER_FAIL=7]="LINK_SERVER_FAIL",e[e.LINK_SERVER_CLOSE=8]="LINK_SERVER_CLOSE",e[e.SWITCH_ROLE=9]="SWITCH_ROLE",e[e.CREATE_ROLE_VIEW=10]="CREATE_ROLE_VIEW",e[e.CLICK_CREATE_ROLE=11]="CLICK_CREATE_ROLE",e[e.CREATE_ROLE_SUCCESS=12]="CREATE_ROLE_SUCCESS",e[e.GET_SERVER_LIST=13]="GET_SERVER_LIST",e[e.Chat=15]="Chat",e[e.UserCheck=16]="UserCheck",e[e.ONCLICK_CREATE=17]="ONCLICK_CREATE",e[e.ONCLICK_WELCOME=18]="ONCLICK_WELCOME",e[e.ENTERMAIN=19]="ENTERMAIN",e[e.COMPLETETASK=20]="COMPLETETASK",e[e.MICROTERMS_DOWNLOAD=21]="MICROTERMS_DOWNLOAD",e[e.ONCLICK_WELCOME2=22]="ONCLICK_WELCOME2",e[e.GET_ROLE_LIST=23]="GET_ROLE_LIST",e[e.LOAD_GAMEAPP=24]="LOAD_GAMEAPP",e[e.UPDATE_LEVEL=1e3]="UPDATE_LEVEL",e[e.UPDATE_POWER=1001]="UPDATE_POWER",e[e.CHANGE_NAME=1002]="CHANGE_NAME",e[e.CLICK_PAY=2001]="CLICK_PAY",e[e.ERROR=9999]="ERROR",e[e.Report_10000=1e4]="Report_10000",e[e.Report_10001=10001]="Report_10001"}(i=e.ReportDataEnum||(e.ReportDataEnum={}));var r=function(){function r(){this.msgAry=[],this.jobAry=["","战士","法师","道士"]}return r.ins=function(){return this._ins=this._ins||new r,this._ins},r.prototype.reporting=function(t,r,n,o){if(void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=!0),(!e.GameSocket.IsCrossService||t==i.Chat)&&(egret.log("reporttype:"+t),Main.gameParameter.isReport)){var a=window.loginWay?1:0,s={type:t,counter:Main.gameParameter.pfID,env:Main.gameParameter.game+"|"+a,time:Date.parse((new Date).toString())/1e3};s.sign=(new md5).hex_md5(t+s.env+s.time+Main.gameParameter.pfID+"ddcqweb");var l=egret.getDefinitionByName("app.EntityMgr"),h=egret.getDefinitionByName("app.LocationProperty"),c=egret.getDefinitionByName("app.GameMap"),p=egret.getDefinitionByName("app.VipData");if(r&&l){var g=l.ins().getPayer;g&&g.propSet&&(r.roleName=g.propSet.getName(),r.level=g.propSet.getLevel(),r.zsLevel=g.propSet.getZSLevel(),r.sex=g.propSet.getSex(),r.job=g.propSet.getAP_JOB(),r.guildName=g.propSet.getGuildName(),r.moneyNums=g.propSet.getNotBindYuanBao(),r.guildID=g.propSet.getGuildId(),r.roleCreateTime=g.propSet.getRoleCreateTime()),h&&(r.uid=h.openID,r.roleId=h.roleId,r.serverId=h.srvid,r.serverName=h.srvname,r.serverOriginaId=h.originalSrvid),c&&(r.mapID=c.mapID),p&&(r.vipLv=p.ins().getMyVipLv())}else r={};if(r.uid=Main.gameParameter.userInfo.uid,void 0==r.roleId&&(r.roleId=""),r.serverAlias=Main.gameParameter.userInfo.server?Main.gameParameter.userInfo.server:h?h.serverAlias:"",n)for(var u in n)r[u]=n[u];if(Main.gameParameter.isReportPF&&(s.data=r,gamelib.DeviceUtils.IsNative?this.ReportingFunction(s):window.ReportingFunction(s)),r&&!gamelib.DeviceUtils.IsNative&&10046!=Main.gameParameter.pfID)for(var u in r)r[u]=encodeURIComponent(r[u]);s.data=r;var m=JSON.stringify(s);this.msgAry.push(m),s=null,this.callbackFun()}},r.prototype.callbackFun=function(){if(!this.httpReq&&this.msgAry.length){var t=this.msgAry.shift();this.httpReq=new egret.HttpRequest,this.httpReq.addEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.addEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceComp,this),this.httpReq.open(Main.gameParameter.reportURL+"?msg="+t,egret.HttpMethod.GET),this.httpReq.send(),e.TimerManager.ins().doTimer(5e3,1,this.getServiceComp,this)}},r.prototype.getServiceComp=function(t){e.TimerManager.ins().remove(this.getServiceComp,this),this.httpReq.removeEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceComp,this),this.httpReq=null,this.callbackFun()},r.prototype.ReportingFunction=function(e){if(e)if(10007==Main.gameParameter.pfID){if(12==e.type){var t=this.format_2(),i="?user_id="+e.data.uid+"&game_id=60&server_id="+e.data.serverId+"&role_id="+e.data.roleId+"&role_name="+e.data.roleName+"&create_date="+t+"&ts="+Date.parse((new Date).toString())/1e3,r=new egret.HttpRequest;r.open(Main.gameParameter.reportURLPF+i,egret.HttpMethod.GET),r.send()}}else if(10010==Main.gameParameter.pfID||10024==Main.gameParameter.pfID){if(12==e.type||4==e.type||1e3==e.type){var n=this.getVipLv(e.data.vipLv),o=1==e.data.job?"战士":2==e.data.job?"法师":"道士";Main.Native_reportPlayerData({dataType:e.type,serverID:e.data.serverId,serverName:e.data.serverName,roleID:e.data.roleId,roleName:e.data.roleName,roleLevel:e.data.level,moneyNum:e.data.moneyNums,roleCreateTime:e.data.roleCreateTime?Math.floor(e.data.roleCreateTime/1e3):"",roleLevelUpTime:Math.floor((new Date).getTime()/1e3),vip:n,roleCareer:o})}}else if(2==e.type||12==e.type||4==e.type||1e3==e.type){var n=this.getVipLv(e.data.vipLv),a={dataType:e.type,moneyNum:e.data.moneyNums?e.data.moneyNums:0,guildID:e.data.guildID?e.data.guildID:0,guildName:e.data.guildName?e.data.guildName:"",roleCreateTime:e.data.roleCreateTime?Math.floor(e.data.roleCreateTime/1e3):"0",roleID:e.data.roleId,roleId:e.data.roleId,roleName:e.data.roleName?e.data.roleName:"",roleLevel:e.data.level?e.data.level:1,roleLevelUpTime:Math.floor((new Date).getTime()/1e3),zsLevel:e.data.zsLevel?e.data.zsLevel:0,uid:e.data.uid,serverID:e.data.serverId,serverName:e.data.serverName,serverOriginaId:e.data.serverOriginaId,vip:n,roleSex:e.data.sex?"女":0==e.data.sex?"男":"",professionId:e.data.job?e.data.job:0,profession:e.data.job?this.jobAry[e.data.job]:""};10011==Main.gameParameter.pfID?a.zsLevel&&(a.roleLevel=1e3*a.zsLevel+a.roleLevel):10041==Main.gameParameter.pfID?a.serverID=e.data.serverOriginaId%1e4:10012==Main.gameParameter.pfID||10041==Main.gameParameter.pfID?4==a.dataType&&(a.dataType=1e3):10046==Main.gameParameter.pfID&&(a.serverOriginaId=e.data.serverOriginaId%1e3),Main.Native_reportPlayerData(a)}},r.prototype.format_2=function(){var e=new Date,i=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),o=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return i+"-"+t(r)+"-"+t(n)+" "+t(o)+":"+t(a)+":"+t(s)},r.prototype.getVipLv=function(e){var t=0;if(e)for(var i=4;10>i;i++){var r=e>>i-1&1;r&&(t=i-3)}return t},r}();e.ReportDataMgr=r,__reflect(r.prototype,"app.ReportDataMgr")}(app||(app={}));var ResDirEnum=function(){function e(){}return e.Init=function(){e.RES_DIR_BLOOD=e.RES_DIR+"blood/",e.RES_DIR_BODY=e.RES_DIR+"body/",e.RES_DIR_BODY_SUIT=e.RES_DIR+"bodysuit/",e.RES_DIR_BODY_EFF=e.RES_DIR+"bodyeff/",e.RES_DIR_EFF=e.RES_DIR+"eff/",e.RES_DIR_WIMGEFF=e.RES_DIR+"weaponimgeff/",e.RES_DIR_TITLE=e.RES_DIR+"title/",e.RES_DIR_MONSTER=e.RES_DIR+"monster/",e.RES_DIR_SKILL=e.RES_DIR+"skill/",e.RES_DIR_WEAPON=e.RES_DIR+"weapon/",e.RES_DIR_WEAPONEFF=e.RES_DIR+"weaponeff/",e.RES_DIR_HAIR=e.RES_DIR+"hair/",e.RES_DIR_TELEPORT=e.RES_DIR+"teleport/",e.RES_DIR_NPC=e.RES_DIR+"npc/",e.RES_DIR_CREATE=e.RES_DIR+"create/",e.RES_DIR_WORSHIP=e.RES_DIR+"Worship/",e.RES_DIR_PET=e.RES_DIR+"pet/",e.RES_DIR_PETEXTERIOR=e.RES_DIR+"petexterior/"},e.RES_ROOT="",e.RES_RESOURCE="resource/",e.RES_RESPUBLISH="resource_Publish/",e.RES_DIR="res/",e.RES_DIR_Android="resource/assets/res/",e.MAP_DIR="map/",e.MAP_DIR_Android="resource/assets/map/",e.RES_DIR_BLOOD=e.RES_DIR+"blood/",e.RES_DIR_BODY=e.RES_DIR+"body/",e.RES_DIR_BODY_SUIT=e.RES_DIR+"bodysuit/",e.RES_DIR_BODY_EFF=e.RES_DIR+"bodyeff/",e.RES_DIR_EFF=e.RES_DIR+"eff/",e.RES_DIR_WIMGEFF=e.RES_DIR+"weaponimgeff/",e.RES_DIR_TITLE=e.RES_DIR+"title/",e.RES_DIR_MONSTER=e.RES_DIR+"monster/",e.RES_DIR_SKILL=e.RES_DIR+"skill/",e.RES_DIR_WEAPON=e.RES_DIR+"weapon/",e.RES_DIR_WEAPONEFF=e.RES_DIR+"weaponeff/",e.RES_DIR_HAIR=e.RES_DIR+"hair/",e.RES_DIR_TELEPORT=e.RES_DIR+"teleport/",e.RES_DIR_NPC=e.RES_DIR+"npc/",e.RES_DIR_CREATE=e.RES_DIR+"create/",e.RES_DIR_WORSHIP=e.RES_DIR+"Worship/",e.RES_DIR_PET=e.RES_DIR+"pet/",e.RES_DIR_PETEXTERIOR=e.RES_DIR+"petexterior/",e}();__reflect(ResDirEnum.prototype,"ResDirEnum");var gamelib;!function(e){var t=function(){function e(){this.displayList=egret.createMap(),this.resDisTime={},this.isFirstEnter=!1,this._clearWin=3e4,this._clearRes=3e4,this._iscardMapTime=1e4,this._resResource="resource/",this._resMovieClip="res/",this._filterMoviceResource=" "}return Object.defineProperty(e.prototype,"clearWin",{get:function(){return this._clearWin},set:function(e){this._clearWin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearRes",{get:function(){return this._clearRes},set:function(e){this._clearRes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iscardMapTime",{get:function(){return this._iscardMapTime},set:function(e){this._iscardMapTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resResource",{get:function(){return this._resResource},set:function(e){this._resResource=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resMovieClip",{get:function(){return this._resMovieClip},set:function(e){this._resMovieClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterMoviceResource",{get:function(){return this._filterMoviceResource},set:function(e){this._filterMoviceResource=e},enumerable:!0,configurable:!0}),e.ins=function(){var e=this;return e._instance||(e._instance=new e),e._instance},e.prototype.createMap=function(e){var t,i,r=RES.getAnalyzers();for(var n in r)i=r[n],i instanceof egret.Texture&&-1!=n.indexOf(e)&&(t=RES.getResourceInfo(n),t&&RES.host.unload(t))},e.prototype.createDiscardMap=function(e){var t,i,r,n=RES.getAnalyzers(),o=egret.getTimer();for(var a in n)if(-1!=a.indexOf(e)&&(r=n[a],r instanceof egret.Texture&&r.bitmapData&&r.bitmapData.hashCode)){i=r.bitmapData.hashCode;var s=egret.BitmapData._displayList[i];s&&0!=s.length||this.resDisTime[i]&&o-this.resDisTime[i]>this._iscardMapTime&&t&&(t=RES.getResourceInfo(a),delete this.resDisTime[i],RES.host.unload(t))}n=null},e.prototype.destroyWin=function(){var e,t,i,r,n=RES.getAnalyzers(),o=egret.getTimer();for(var a in n)-1!=a.indexOf(this.resResource)&&(i=n[a],i instanceof egret.SpriteSheet?i.$texture&&i.$texture.bitmapData&&i.$texture.bitmapData.hashCode&&(t=i.$texture.bitmapData.hashCode,r=egret.BitmapData._displayList[t],r&&0!=r.length||this.resDisTime[t]&&o-this.resDisTime[t]>this._clearWin&&(delete this.resDisTime[t],a=a.replace(this._resResource,""),RES.destroyRes(a))):i instanceof egret.Texture&&i.bitmapData&&i.bitmapData.hashCode&&(t=i.bitmapData.hashCode,r=egret.BitmapData._displayList[t],r&&0!=r.length||this.resDisTime[t]&&o-this.resDisTime[t]>this._clearWin&&(e=RES.getResourceInfo(a),e&&(delete this.resDisTime[t],RES.host.unload(e)))));n=null},e.prototype.destroyRes=function(){var e,t,i,r=egret.getTimer(),n=RES.getAnalyzers();for(var o in n)if(t=n[o],t instanceof egret.Texture&&-1!=o.indexOf(this._resMovieClip)&&o.indexOf(this._filterMoviceResource)<0&&t.bitmapData&&t.bitmapData.hashCode){e=t.bitmapData.hashCode;var a=this.displayList[e];if(!a||!a.length){if(!this.resDisTime[e])continue;r-this.resDisTime[e]>this._clearRes&&(i=RES.getResourceInfo(o),i&&(delete this.displayList[e],delete this.resDisTime[e],RES.host.unload(i)))}}n=null},e.prototype.deleteDisplay=function(e){delete this.displayList[e]},e.prototype.getDisplay=function(e){return this.displayList[e]},e.prototype.addDisplay=function(e,t){return this.displayList[e]=t},e.prototype.disposeResTime=function(e){this.resDisTime[e]=egret.getTimer()},e.prototype.delResTime=function(e){delete this.resDisTime[e]},e}();e.ResourceManager=t,__reflect(t.prototype,"gamelib.ResourceManager")}(gamelib||(gamelib={}));var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i='\n        <e:Skin class="MainLoginServerListInfoSkin" xmlns:e="http://ns.egret.com/eui" >\n	<e:Image source="login_qfbg"/>\n	<e:Image id="imgState" x="12.32" source="login_dian_1" verticalCenter="-2"/>\n	<e:Label id="serverText" text="" textColor="0xe5ddcf" stroke="2" size="21" verticalCenter="-1.5" horizontalCenter="7"/>\n</e:Skin>\n        ';return EXML.parse(i),t.skinName="MainLoginServerListInfoSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.dataInfo=this.data,this.imgState.source=4!=+this.data.type?"login_dian_"+ +this.data.type:"login_dian_1",this.serverText.text=this.data.serverName,this.data.isNew?this.serverText.textFlow=[{text:"  "+this.data.serverName},{text:"(新)",style:{textColor:2682369}}]:this.serverText.text=this.data.serverName},t}(eui.ItemRenderer);e.ServerItem=t,__reflect(t.prototype,"app.ServerItem")}(app||(app={}));var app;!function(e){var t=function(){function t(){this.httpNum=0,this.serverArr=[],this.leftStrArr=[]}return t.prototype.getServerInfo=function(){this.httpReq&&(this.httpReq.removeEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceErr,this)),this.httpReq=new egret.HttpRequest,this.httpReq.addEventListener(egret.Event.COMPLETE,this.getServiceComp,this),this.httpReq.addEventListener(egret.IOErrorEvent.IO_ERROR,this.getServiceErr,this),Main.gameParameter.loginType?this.httpReq.open(Main.gameParameter.serviceListdUrl+"?account="+Main.gameParameter.userInfo.uid+"&pf="+Main.gameParameter.pf+"&t="+egret.getTimer(),egret.HttpMethod.GET):this.httpReq.open(Main.gameParameter.serviceListdUrl+"?account="+Main.gameParameter.userInfo.uid+"&pf="+Main.gameParameter.pf+"&t="+egret.getTimer(),egret.HttpMethod.GET),this.httpReq.send(),this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this)),this.timer=new egret.Timer(5e3,1),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.httpNum+=1
},t.prototype.timerComFunc=function(){Main&&Main.showTipsPhone&&Main.showTipsPhone("正在拉取服务器"),this.getServerInfo()},t.prototype.getServiceComp=function(t){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.GET_SERVER_LIST,{result:1},null,!1),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.httpNum=0,this.serverArr=[],this.leftStrArr=[];var i=t.target;if(null==i.response||0==i.response||""==i.response)return void(Main&&Main.showTipsPhone&&Main.showTipsPhone("暂无服务器！"));var r={};try{r=JSON.parse(i.response)}catch(n){alert("服务器请求超时，请退出游戏重新打开！")}var o=0;r.serverlist&&(o=r.serverlist.length);for(var a,s=o-1;s>=0;s--)if(a=r.serverlist[s],a.serverlist)for(var l=a.serverlist.length-1;l>=0;l--){e.LocationProperty.newestServer=a.serverlist[l],e.LocationProperty.newestServer.user=Main.gameParameter.userInfo.uid,e.LocationProperty.newestServer.originalSrvid||(e.LocationProperty.newestServer.originalSrvid=e.LocationProperty.newestServer.srvid);break}if(window.selectServer){for(var h=[],c=[],p=[],s=0;o>s;s++)if(a=r.serverlist[s],a.serverlist&&a.serverlist.length>0&&(h.push(a),r.login&&r.login.length>0))for(var l=0;l<a.serverlist.length;l++)-1!=r.login.indexOf(a.serverlist[l].originalSrvid+"")&&(c[a.serverlist[l].originalSrvid+""]=a.serverlist[l]);if(h.length>0){var g=null,u=h[h.length-1].serverlist;if(u&&u.length&&(u[u.length-1].isNew=!0,g=[e.PhoneServerListInfo.copyDataHandler(u[u.length-1])],e.LocationProperty.recommendServer=e.PhoneServerListInfo.copyDataHandler(g[0])),r.login&&r.login.length>0)for(var s=0;s<r.login.length;s++)c[r.login[s]]&&p.push(c[r.login[s]]);if(window.selectView)if(p.length>0)window.selectView.updateInfo(h,p[0]),p=p.reverse(),h=h.reverse(),h.unshift({name:"最近登录",serverlist:p}),g&&h.unshift({name:"推荐新服",serverlist:g});else{for(var m=null,s=o-1;s>=0;s--){a=r.serverlist[s];for(var d=a.serverlist.length-1;d>=0;d--)if(3!=a.serverlist[d].type||4!=a.serverlist[d].type){m=a.serverlist[d];break}if(m)break}m&&(h=h.reverse(),g&&h.unshift({name:"推荐新服",serverlist:g}),window.selectView.updateInfo(h,m))}}else 10010==Main.gameParameter.pfID&&Main.startServerTips("【先遣1服】将于8月19日14点正式开服，敬请期待。")}else{for(var m=null,s=0;o>s;s++)if(a=r.serverlist[s],a.serverlist)for(var l=0;l<a.serverlist.length;l++){m=a.serverlist[l];var f=window.serverType?m.originalSrvid==Main.gameParameter.userInfo.server:m.serverAlias==Main.gameParameter.userInfo.server;if(f)return m.user=Main.gameParameter.userInfo.uid,m.originalSrvid||(m.originalSrvid=m.srvid),e.LocationProperty.Param=m,void e.GameSocket.ins().connectServer()}Main&&Main.showTipsPhone&&Main.showTipsPhone("区服信息错误！")}},t.prototype.getServiceErr=function(){e.ReportDataMgr.ins().reporting(e.ReportDataEnum.GET_SERVER_LIST,{result:0},null,!1)},t.prototype.onClickRightList=function(e){this.selectSerInfo=e.item,this.selectSerInfo&&window.selectInfo(this.selectSerInfo)},t.prototype.onButtonClick=function(){return null==this.selectSerInfo?void(Main&&Main.showTipsPhone&&Main.showTipsPhone("请选择服务器！")):void window.onClickLogin(this.selectSerInfo)},t}();e.ServerListInfo=t,__reflect(t.prototype,"app.ServerListInfo")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='<e:Skin class="PhoneTestSkin2" width="1334" height="750" xmlns:e="http://ns.egret.com/eui">\n	<e:Image  source="mp_xfjm_png" horizontalCenter="0" verticalCenter="0"/>\n	<e:Rect id="rect" width="300" height="30" y="252" horizontalCenter="0" fillColor="0xffffff"/>\n    <e:EditableText id="input" width="300" restrict = "A-Za-z0-9" text="" y="252" maxChars="10" height="30" horizontalCenter="0" backgroundColor="0xffffff" borderColor="0xf2f9f9" promptColor="0x000000" textColor="0x000000" strokeColor="0xfcf7f7" background="true"  prompt="请输入账号"/>\n	<e:Button id="signInButton" label="登  录" height="50" anchorOffsetX="0" width="124" horizontalCenter="0" y="300">\n		<e:skinName>\n			<e:Skin states="up,down,disabled">\n            <e:Rect fillColor="0x0d7f93" width="100%" height="100%"/>\n			<e:Image width="100%" height="100%" />\n			<e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/>\n			</e:Skin>\n		</e:skinName>\n	</e:Button>\n</e:Skin>';return e.clazz=EXML.parse(i),e.skinName="PhoneTestSkin2",e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.initUI=function(){if(gamelib.DeviceUtils.IsIOS?egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this):e.SoundManager.ins().playBg("xuanze_mp3"),Main.gameParameter.loginType)this.signInButton.visible=!1,this.input.visible=!1,this.rect.visible=!1;else{this.signInButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var t=egret.localStorage.getItem("signInUID");t&&t.length&&(this.input.text=t)}},i.prototype.stageClick=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),e.SoundManager.ins().playBg("xuanze_mp3")},i.prototype.onClick=function(e){if(this.input.text.length){egret.localStorage.setItem("signInUID",this.input.text);var t={uid:this.input.text};Main.gameParameter.userInfo=t,Main.createServerView()}},i.prototype.removeView=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),this.signInButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.SignInView=t,__reflect(t.prototype,"app.SignInView")}(app||(app={}));var app;!function(e){var t=function(t){function i(){var e=t.call(this)||this,i='<e:Skin class="PhoneTestSkinH5" width="1334" height="750" xmlns:e="http://ns.egret.com/eui">\n	<e:Image  source="mp_xfjm_png" horizontalCenter="0" verticalCenter="0"/>\n	<e:Button id="signInButton"  width="143" height="62" icon="mp_login_btn2_png" bottom="274" horizontalCenter="0.5">\n						<e:skinName>\n							<e:Skin states="up,down,disabled">\n						<e:Image id="iconDisplay"  verticalCenter="0" horizontalCenter="0" scaleX.down="0.9" scaleY.down="0.9"/>\n							</e:Skin>\n						</e:skinName>\n					</e:Button>\n</e:Skin>';return e.clazz=EXML.parse(i),e.skinName="PhoneTestSkinH5",e.percentHeight=100,e.percentWidth=100,e}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initUI()},i.prototype.initUI=function(){gamelib.DeviceUtils.IsIOS?egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this):e.SoundManager.ins().playBg("xuanze_mp3"),this.signInButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.onClick(null)},i.prototype.stageClick=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),e.SoundManager.ins().playBg("xuanze_mp3")},i.prototype.onClick=function(e){window.loginFunction&&window.loginFunction()},i.prototype.removeView=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.stageClick,this),this.signInButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.SignInViewH5=t,__reflect(t.prototype,"app.SignInViewH5")}(app||(app={}));var app;!function(e){var t=function(){function e(){this.select=!1}return e.prototype.read=function(e){e&&(this.id=e.readUnsignedInt(),this.name=e.readString(),this.faceId=e.readUnsignedByte(),this.sex=e.readByte(),this.level=e.readShort(),this.level<1&&(this.level=1),this.zsLevel=e.readShort(),this.job=e.readByte(),e.readByte(),this.isBan=(1&e.readByte())>0,this.guildName=e.readString())},e}();e.SimplePlayerInfo=t,__reflect(t.prototype,"app.SimplePlayerInfo")}(app||(app={}));var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,r){function n(e){t.call(r,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(r))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,i){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(r,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.split("/");s.pop();var l=s.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(r,generateJSON.paths[e])},this):RES.getResByUrl(l,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){t.call(r,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var app;!function(e){var t=function(){function t(){this.currHandler=null,this._handlers=[],this.nexthandles=null,this._currTime=egret.getTimer(),this._currFrame=0,egret.startTick(this.onEnterFrame,this)}return t.ins=function(){var e=this;return e._instance||(e._instance=new e),e._instance},t.prototype.getFrameId=function(){return this._currFrame},t.prototype.getCurrTime=function(){return this._currTime},t.binFunc=function(e,t){return e.exeTime>t.exeTime?-1:e.exeTime<t.exeTime?1:0},t.DeleteHandle=function(t){t.clear(),e.ObjectPool.push(t)},t.prototype.onEnterFrame=function(i){this._currFrame++,this._currTime=egret.getTimer();var r=0,n=this.nexthandles;if(this.nexthandles=null,n&&n.length>0){for(var o=0,a=n;o<a.length;o++){var s=a[o];s.method.call(s.methodObj),t.DeleteHandle(s)}n=null}if(this._handlers.length<=0)return!1;for(var l=this._handlers[this._handlers.length-1];l.exeTime<=this._currTime;){this.currHandler=l=this._handlers.pop(),l.method.call(l.methodObj),r=egret.getTimer(),l.exeTime=r+l.delay;var h=l.forever;if(h||(l.repeatCount>1?(l.repeatCount--,h=!0):l.onFinish&&l.onFinish.apply(l.finishObj)),h){var c=e.Algorithm.binSearch(this._handlers,l,t.binFunc);this._handlers.splice(c,0,l)}else t.DeleteHandle(l);if(r-this._currTime>5)break;if(this._handlers.length<=0)break;l=this._handlers[this._handlers.length-1]}return this.currHandler=null,!1},t.prototype.create=function(i,r,n,o,a,s,l){if(!(0>r||0>n||null==o)){var h=e.ObjectPool.pop("app.TimerHandler");h.forever=0==n,h.repeatCount=n,h.delay=r,h.method=o,h.methodObj=a,h.onFinish=s,h.finishObj=l,h.exeTime=i+this._currTime;var c=e.Algorithm.binSearch(this._handlers,h,t.binFunc);this._handlers.splice(c,0,h)}},t.prototype.doTimer=function(e,t,i,r,n,o){void 0===n&&(n=null),void 0===o&&(o=null),this.create(e,e,t,i,r,n,o)},t.prototype.doTimerDelay=function(e,t,i,r,n,o,a){void 0===o&&(o=null),void 0===a&&(a=null),this.create(e,t,i,r,n,o,a)},t.prototype.doNext=function(t,i){var r=e.ObjectPool.pop("app.TimerHandler");r.method=t,r.methodObj=i,this.nexthandles||(this.nexthandles=[]),this.nexthandles.push(r)},t.prototype.remove=function(e,i){var r=this.currHandler;r&&r.method==e&&r.methodObj==i&&(r.forever=!1,r.repeatCount=0);for(var n=this._handlers.length-1;n>=0;n--){var o=this._handlers[n];o.method==e&&o.methodObj==i&&(this._handlers.splice(n,1),t.DeleteHandle(o))}},t.prototype.removeAll=function(e){var i=this.currHandler;i&&i.methodObj==e&&(i.forever=!1,i.repeatCount=0);for(var r=this._handlers.length-1;r>=0;r--){var n=this._handlers[r];n.methodObj==e&&(this._handlers.splice(r,1),t.DeleteHandle(n))}},t.prototype.isExists=function(e,t){for(var i=0,r=this._handlers;i<r.length;i++){var n=r[i];if(n.method==e&&n.methodObj==t)return!0}return!1},t}();e.TimerManager=t,__reflect(t.prototype,"app.TimerManager");var i=function(){function e(){this.delay=0,this.forever=!1,this.repeatCount=0,this.exeTime=0}return e.prototype.clear=function(){this.method=null,this.methodObj=null,this.onFinish=null,this.finishObj=null,this.forever=!1},e}();e.TimerHandler=i,__reflect(i.prototype,"app.TimerHandler")}(app||(app={}));var app;!function(e){var t=function(){function e(e){this._lowUint=0,this._highUint=0,this.value=e}return e.prototype.isEqual=function(e){return e?this._lowUint==e._lowUint&&this._highUint==e._highUint:!1},e.prototype.isGreaterThan=function(t){if(t instanceof e)return this._highUint>t._highUint||this._highUint==t._highUint&&this._lowUint>t._lowUint;var i=new e;return"string"==typeof t?(i.value=t,this.isGreaterThanOrEqual(i)):"number"==typeof t?(i.value=t.toString(),this.isGreaterThanOrEqual(i)):void 0},e.prototype.isGreaterThanOrEqual=function(t){if(t instanceof e)return this._highUint>t._highUint||this._highUint==t._highUint&&this._lowUint>=t._lowUint;var i=new e;return"string"==typeof t?(i.value=t,this.isGreaterThanOrEqual(i)):"number"==typeof t?(i.value=t.toString(),this.isGreaterThanOrEqual(i)):void 0},Object.defineProperty(e.prototype,"isZero",{get:function(){return 0==this._lowUint&&0==this._highUint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGreaterThanZero",{get:function(){return this._lowUint>0||this._highUint>0},enumerable:!0,configurable:!0}),e.prototype.writeByte=function(e){e.writeUnsignedInt(this._lowUint),e.writeUnsignedInt(this._highUint)},e.prototype.setValue=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._lowUint=e,this._highUint=t},Object.defineProperty(e.prototype,"value",{set:function(t){t instanceof egret.ByteArray?(this._lowUint=t.readUnsignedInt(),this._highUint=t.readUnsignedInt()):"string"==typeof t&&e.stringToUint64(t,10,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueByString",{set:function(e){},enumerable:!0,configurable:!0}),e.prototype.leftMove=function(t,i){void 0===i&&(i=null),i=i||this;var r=e.LeftMoveMask[t],n=r&this._lowUint;n>>>=32-t,i._lowUint=this._lowUint<<t,i._highUint=this._highUint<<t,i._highUint=i._highUint|n},e.prototype.add=function(t,i){void 0===i&&(i=null),i=i||this;var r=this._lowUint+t._lowUint;i._highUint=this._highUint+t._highUint,r>=e.MaxLowUint?(i._highUint++,i._lowUint=r-e.MaxLowUint):i._lowUint=r},e.prototype.subtraction=function(t,i){void 0===i&&(i=null),i=i||this;var r=this._lowUint-t._lowUint;i._highUint=this._highUint-t._highUint,0>r?(i._highUint--,i._lowUint=r+e.MaxLowUint):i._lowUint=r},e.prototype.scale=function(t,i){void 0===i&&(i=null),i=i||this;var r=this._lowUint*t;i._highUint=this._highUint*t,i._highUint+=Math.floor(Math.abs(r/e.MaxLowUint)),i._lowUint=r%e.MaxLowUint},e.prototype.toString=function(t){void 0===t&&(t=10);for(var i,r,n,o="",a=this._lowUint,s=this._highUint;0!=s||0!=a;)i=s%t,n=i*e.MaxLowUint+a,r=n%t,o=r+o,s=(s-i)/t,a=(n-r)/t;return o.length?o:"0"},e.stringToUint64=function(t,i,r){void 0===i&&(i=10),void 0===r&&(r=null),r=r||new e;for(var n,o,a=0,s=0,l=t.length,h=0;l>h;h++)o=parseInt(t.charAt(h)),n=a*i+o,s=s*i+Math.floor(n/e.MaxLowUint),a=n%e.MaxLowUint;return r.setValue(a,s),r},e.LeftMoveMask=[0,2147483648,1073741824,536870912,268435456,134217728,67108864,33554432,16777216,8388608,4194304,2097152,1048576,524288,262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1],e.MaxLowUint=4294967296,e}();e.uint64=t,__reflect(t.prototype,"app.uint64")}(app||(app={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function r(r){t.call(i,r,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?r(n):RES.getResAsync(e,r,this)}else RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var app;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._currBg="",t}return __extends(t,e),t.prototype.stop=function(){this._currSoundChannel&&this.removeSoundChannel(this._currSoundChannel),this._currSoundChannel=null,this._currSound=null,this._currBg=""},t.prototype.play=function(e){if(this._currBg!=e){this.stop(),this._currBg=e;var t=this.getSound(e);t&&this.playSound(t)}},t.prototype.touchPlay=function(){if(this._currSoundChannel&&this._currSound){var e=this._currSoundChannel.position;this.removeSoundChannel(this._currSoundChannel),this._currSoundChannel=this._currSound.play(e,1),this.addSoundChannel(this._currSoundChannel)}},t.prototype.playSound=function(e){this._currSound=e,this._currSoundChannel=this._currSound.play(0,1),this.addSoundChannel(this._currSoundChannel)},t.prototype.onSoundComplete=function(){this._currSoundChannel&&this.removeSoundChannel(this._currSoundChannel),this.playSound(this._currSound)},t.prototype.addSoundChannel=function(e){e.volume=this._volume,e.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this)},t.prototype.removeSoundChannel=function(e){e.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),e.stop()},t.prototype.setVolume=function(e){this._volume=e,this._currSoundChannel&&(this._currSoundChannel.volume=this._volume)},t.prototype.loadedPlay=function(e){if(this._currBg==e){var t=RES.getRes(e);if(!t)return;this.playSound(t)}},t.prototype.checkCanClear=function(e){return this._currBg!=e},t}(e.BaseSound);e.SoundBg=t,__reflect(t.prototype,"app.SoundBg")}(app||(app={}));var app;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.play=function(e){var t=this.getSound(e);t&&this.playSound(t)},t.prototype.playSound=function(e){var t=e.play(0,1);t.volume=this._volume},t.prototype.setVolume=function(e){this._volume=e},t.prototype.loadedPlay=function(e){var t=RES.getRes(e);t&&this.playSound(t)},t}(e.BaseSound);e.SoundEffects=t,__reflect(t.prototype,"app.SoundEffects")}(app||(app={}));var app;!function(e){var t=function(){function t(){this.bgOn=!0,this.effectOn=!0,this.bgVolume=.5,this.effectVolume=.5,this.bg=new e.SoundBg,this.bg.setVolume(this.bgVolume),this.effect=new e.SoundEffects,this.effect.setVolume(this.effectVolume)}return t.ins=function(){var e=this;return e._instance||(e._instance=new e),e._instance},t.prototype.playEffect=function(e){this.effectOn&&this.effect.play(e)},t.prototype.createPlayEffect=function(e){this.effect.play(e)},t.prototype.playBg=function(e){this.currBg=e,this.bgOn&&this.bg.play(e)},t.prototype.createplayBg=function(e){this.currBg=e,this.bg.play(e)},t.prototype.stopBg=function(){this.bg.stop()},t.prototype.touchBg=function(){egret.Capabilities.isMobile&&"iOS"==egret.Capabilities.os&&this.bg.touchPlay()},t.prototype.setEffectOn=function(e){this.effectOn=e},t.prototype.setBgOn=function(e){this.bgOn=e,this.bgOn?this.currBg&&this.playBg(this.currBg):this.stopBg()},t.prototype.setBgVolume=function(e){e=Math.min(e,1),e=Math.max(e,0),this.bgVolume=e,this.bg.setVolume(this.bgVolume)},t.prototype.getBgVolume=function(){return this.bgVolume},t.prototype.setEffectVolume=function(e){e=Math.min(e,1),e=Math.max(e,0),this.effectVolume=e,this.effect.setVolume(this.effectVolume)},t.prototype.getEffectVolume=function(){return this.effectVolume},t.CLEAR_TIME=18e4,t}();e.SoundManager=t,__reflect(t.prototype,"app.SoundManager")}(app||(app={}));var app;!function(e){var t=function(){function t(){this._delayTime=0,this._delayStartTime=0,this._runTimeGap=300,this._runTimeStart=0,this._ackTimeGap=300,this._ackTimeGapTimeStart=0,this._hitTimeGap=300,this._hitTimeStart=0,this._hit2TimeStart=0,this._dieTimeGap=400,this._dieTimeStart=0,this._die2TimeStart=0,this.monsterSound={}}return t.ins=function(){var e=this;return e._instance||(e._instance=new e),e._instance},t.prototype.playRunSound=function(){egret.getTimer()-this._runTimeStart>=this._runTimeGap&&(this._runTimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.RUN))},t.prototype.playRun=function(){egret.getTimer()-this._runTimeStart>this._runTimeGap+100&&this.playRunSound(),e.TimerManager.ins().isExists(this.playRunSound,this)||e.TimerManager.ins().doTimer(this._runTimeGap,0,this.playRunSound,this)},t.prototype.stopRun=function(){e.TimerManager.ins().remove(this.playRunSound,this)},t.prototype.playEffect=function(t){egret.getTimer()-this._delayStartTime<this._delayTime||e.SoundManager.ins().playEffect(t)},t.prototype.delayTime=function(e){this._delayTime=e,this._delayStartTime=egret.getTimer()},t.prototype.playAck=function(){egret.getTimer()-this._ackTimeGapTimeStart>this._ackTimeGap&&(this._ackTimeGapTimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.ACK))},t.prototype.playManHit=function(){egret.getTimer()-this._hitTimeStart>this._hitTimeGap&&(this._hitTimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.MAN_HIT))},t.prototype.playWoManHit=function(){egret.getTimer()-this._hit2TimeStart>this._hitTimeGap&&(this._hit2TimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.WOMAN_HIT))},t.prototype.playManDie=function(){egret.getTimer()-this._dieTimeStart>this._dieTimeGap&&(this._dieTimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.MAN_DIE))},t.prototype.playWoManDie=function(){egret.getTimer()-this._die2TimeStart>this._dieTimeGap&&(this._die2TimeStart=egret.getTimer(),e.SoundManager.ins().playEffect(t.WOMAN_DIE))},t.prototype.playMonster=function(t){(!this.monsterSound[t]||this.monsterSound[t]<egret.getTimer())&&(this.monsterSound[t]=egret.getTimer()+500,e.SoundManager.ins().playEffect(t))},t.RUN="yidong_mp3",t.ACK="gongji_mp3",t.MAN_HIT="nanshouji_mp3",t.WOMAN_HIT="nvshouji_mp3",t.MAN_DIE="nansiwang_mp3",t.WOMAN_DIE="nvsiwang_mp3",t.WINDOW="chuansonglikai_mp3",t.TASK="longlin_b_renwu_mp3",t.LEVEL_UP="longlin_b_shengji_mp3",t.SCENE="longlin_a_zyz_mp3",t.EQUIP="longlin_a_chuandai_mp3",t.CREATE_ROLE="longlin_a_chuangjue_mp3",t.FORGE="longlin_a_qianghua_mp3",t.SMELT="longlin_b_ronglian_mp3",t.SKILL_UP="longlin_b_jineng_mp3",t.VIEW="anniu1_mp3",t.VIEW_LEVEL="anniu2_mp3",t.VIEW_INSIDE="anniu3_mp3",t.FORGING="duanzao~1_mp3",t.GOLD="jinbizengjia_mp3",t.DRUGS="heyao_mp3",t.UPGRADE="shengji~1_mp3",t.RING="zhuangjiezhi_mp3",t.OTHER_EQUIP="zhuangsanjian_mp3",t.BRACELET="zhuangshouzhuo_mp3",t.ARMS="zhuangwuqi_mp3",t.NECKLACE="zhuangxianglian_mp3",t.CLOTHES="zhuangyifu_mp3",t.STRENGTHEN="duanzao~1_mp3",t.WINDOW_OPEN=!1,t}();e.SoundUtil=t,__reflect(t.prototype,"app.SoundUtil")}(app||(app={}));